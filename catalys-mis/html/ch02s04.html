
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title xmlns:d="http://docbook.org/ns/docbook">Catalys MIS User Guide &#151; 2.4.&nbsp;Installation</title><link rel="stylesheet" type="text/css" href="../resources/docbook.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Catalys MIS User Guide"><link rel="up" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Installation and Startup"><link rel="prev" href="ch02s03.html" title="2.3.&nbsp;License Management"><link rel="next" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Configuration And Maintenance"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns:d="http://docbook.org/ns/docbook" class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03.html">Prev</a>&nbsp;</td><th width="60%" align="center"><div id="navheader_chapter_title">Chapter&nbsp;2.&nbsp;Installation and Startup</div><div><a accesskey="h" href="index.html">Home</a></div></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch03.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="mis_installation"></a>2.4.&nbsp;Installation</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-intro"></a>2.4.1.&nbsp;Introduction</h3></div></div></div><p>
      The Catalys MIS application has traditionally been packaged as a zip file which is installed simply by unzipping
      the package in the desired destination directory. Starting with Catalys v2.2, we provide an automated
      platform-specific installer. The installer also helps you to:
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
        Install and start the MIS as a service
      </li><li class="listitem">
        Simplify the upgrade process
      </li></ul></div><p>
      We continue to provide the zip package for customers who prefer to manually manage their installation process.
      However, for all other customers, we recommend using the installer, which is covered in the remainder of this
      section.
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mis_installation-compatibility"></a>2.4.1.1.&nbsp;Compatibility</h4></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="mis_installation-browser-compatibility"></a>Browser Compatibility</h5></div></div></div><p>We recommend running the Dashboard in the most recent version of your preferred browser.</p></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="mis_installation-lma-compatibility"></a>Catalys LMA Compatibility</h5></div></div></div><p>
          The MIS interfaces with the Catalys Local Management Agent (LMA) that runs on the same host where the
          CameronFIX server or the Catalys Node is running. The LMA is available to download from
          <a href="https://support.camerontecgroup.com" target="_top">CameronTec's Support Portal</a>.
        </p><p>It is recommended you use the same version of the LMA as the MIS.</p><p>
          Please consult the
          <a href="https://support.camerontecgroup.com/hc/en-us/articles/203683625-Management-components-compatibility-matrix" target="_top">compatibility matrix</a>
          for supported combinations of CameronFIX, Catalys Node, MIS and LMA.
        </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-installer-steps"></a>2.4.2.&nbsp;Installation Steps</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
        Download the installer for your platform:
        <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="bold"><strong>Linux, Solaris, Mac OSX, and other Unix-based systems</strong></span>:
            <span class="emphasis"><em>catalys-mis-2.2-installer-r&lt;revision&gt;.sh</em></span><p>
              After downloading this file, you may need to make it executable if not already. This
              can be done by running <code class="code">chmod +x <span class="emphasis"><em>&lt;filename&gt;</em></span></code>.
            </p></li><li class="listitem"><span class="bold"><strong>Windows 64-bit</strong></span>:
            <span class="emphasis"><em>catalys-mis-2.2-installer-64bit-r&lt;revision&gt;.exe</em></span></li><li class="listitem"><span class="bold"><strong>Windows 32-bit</strong></span>:
            <span class="emphasis"><em>catalys-mis-2.2-installer-32bit-r&lt;revision&gt;.exe</em></span></li></ul></div><p>
          The <span class="emphasis"><em>r&lt;revision&gt;</em></span> indicates the latest
          <a href="ch01s03.html" title="1.3.&nbsp;Catalys Releases">maintenance revision number</a>.
        </p><p>Windows installers require a JRE to be installed that matches the architecture of the installer.</p></li><li class="listitem">
        Launch the installer.
        <div class="note"><h3 class="title">Note</h3><p>
            When the Windows installer is launched, a User Access Control dialog appears asking if this installer has
            permission to make changes to the system as an Administrator. If the installer was launched by a user that
            is not in the Administrators Group role the dialog also prompts for Administrator credentials. If Yes is
            clicked (and Administrator credentials are entered if required), the installer will display screens related
            to Service installation. If Administrator credentials are unavailable or service installation is not needed,
            click No to close the dialog and resume installation without elevated privileges, with only the service
            installation screens being unavailable.
          </p></div></li><li class="listitem">
        Select a Destination Directory: This is where the MIS distribution will be installed.
      </li><li class="listitem">
        Program Group: On Windows, this allows creation of a Start Menu folder and shortcuts for the MIS executables. On
        Linux/Solaris, this allows creation of symlinks for the MIS executables.
      </li><li class="listitem">
        Install License File: Enable this step if you would like the installer to place a copy of your license file
        into the <span class="emphasis"><em>/conf</em></span> directory of the installation. There are other ways to reference the
        license file, which are outlined in <a href="ch02s03.html" title="2.3.&nbsp;License Management">License Management</a>.
      </li><li class="listitem">
        Install EPS: Enable this step if you have a copy of the EPS module zip and would like the installer to import
        that module into the <span class="emphasis"><em>/lib</em></span> directory as part of the installation. This can be done manually
        after installation by extracting the jar file from the zip archive and placing it into the
        <span class="emphasis"><em>/lib</em></span> directory.
      </li><li class="listitem">
        Install Service: Select this option to have the installer configure the MIS executable as a background service
        daemon process. If this option is selected, the final screen of the installer will give the option to attempt to
        start the service before the installer closes. Note that the service will install and run as Local System
        account (on Windows) and as root (on Linux/Solaris).

        <div class="note"><h3 class="title">Note</h3><p>
            This screen will only be displayed if the installer was launched as a user in the Administrators Group (on
            Windows) or as root (on Linux/Solaris).
          </p></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-directories"></a>2.4.3.&nbsp;Post-Installation MIS Directories</h3></div></div></div><p>
      After the installation is complete, you will see the following MIS directories. The default location is
      <span class="emphasis"><em>&lt;INSTALL_BASE&gt;/CameronTec/catalys-mis-2.2</em></span>.
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="bold"><strong>bin</strong></span> - contains the MIS executables, including the service executable
        <span class="emphasis"><em>mis.[exe|sh]</em></span> and the console executable <span class="emphasis"><em>misconsole.[exe|sh]</em></span></li><li class="listitem"><span class="bold"><strong>conf</strong></span>
        - contains logging configuration and the configuration for the MIS executables, as well as the default location
        for the <span class="emphasis"><em>camerontec_license.xml</em></span> file
      </li><li class="listitem"><span class="bold"><strong>data</strong></span> - is an empty directory which is the default location for the persistence
        files written by the MIS
      </li><li class="listitem"><span class="bold"><strong>doc</strong></span> - contains information on our 3rd party libraries and has links to our
        online documentation
      </li><li class="listitem"><span class="bold"><strong>ext</strong></span> - contains 3rd party libraries that cannot be packaged with
        <span class="emphasis"><em>catalys-mis.jar</em></span> due to licensing constraints
      </li><li class="listitem"><span class="bold"><strong>jconsole</strong></span> - contains scripts that allow JConsole to be used as a client of the
        MIS Management Agent
      </li><li class="listitem"><span class="bold"><strong>lib</strong></span> - contains <span class="emphasis"><em>catalys-mis.jar</em></span> along with other MIS jar
        files
      </li><li class="listitem"><span class="bold"><strong>resources</strong></span> - contains resources required by the MIS, including default FIX
        dictionaries and email templates
      </li><li class="listitem"><span class="bold"><strong>scripts</strong></span> - contains scripts executed by the MIS and published as attributes of
        the <code class="code">MIS.Scripts</code> MBean
      </li><li class="listitem"><span class="bold"><strong>src</strong></span> - contains sample Java code demonstrating basic examples of custom user
        details provider and EPS runtime actions Catalys Node API
      </li><li class="listitem"><span class="bold"><strong>web</strong></span> - contains the MIS Dashboard web application
      </li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-upgrading"></a>2.4.4.&nbsp;Upgrading or Installing Additional Features</h3></div></div></div><p>
      The installer can be used for upgrading the Catalys MIS to a newer version, starting at version 2.2 or later. It
      can also be rerun to choose additional options that weren't selected on a previous installation. When the
      installer starts it should recognize that a previous installation exists.
    </p><p>
      Note that after an upgrade it is recommended to clear the browser's cache.
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-uninstaller"></a>2.4.5.&nbsp;Uninstaller</h3></div></div></div><p>
      To uninstall Catalys MIS, run the <code class="code">uninstall.[sh|exe]</code> tool located in the Catalys MIS home directory.
      On Windows, this uninstaller can also be invoked from the Programs and Features tool by selecting the Catalys MIS
      entry and clicking Uninstall/Change. The uninstaller will delete the Catalys MIS root directory and all files and
      directories it contains. If the parent directory (<span class="emphasis"><em>CameronTec</em></span> by default) is empty and was
      created by the installer, it will be deleted as well. If the MIS was installed as a service by the installer,
      running the uninstaller will remove this service. If the service was installed manually, it must be removed
      manually be the user - the uninstaller will not attempt to remove it.
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-service"></a>2.4.6.&nbsp;Manual Service Installation</h3></div></div></div><p>
      The Catalys MIS installer provides the option to install and start the MIS as a service. If this was not done
      initially, it can be done at a later time by re-running the installer. However, the MIS can also be manually
      configured to run as a service without using the installer with the following steps.
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mis_installation-steps-windows"></a>2.4.6.1.&nbsp;Installation Steps - Windows</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
          Open a Command Prompt
          <div class="note"><h3 class="title">Note</h3><p>
              If User Account Control (UAC) is enabled on the system, the Command Prompt must be opened by an
              Administrator (right click on <span class="emphasis"><em>cmd.exe</em></span> and select "Run as administrator").
            </p></div></li><li class="listitem">
          Change the directory to the <span class="emphasis"><em>\bin</em></span> directory under the MIS installation directory
        </li><li class="listitem">
          Execute the command <code class="code">mis.exe /install</code><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
              To install the service with a different name than the default ("mis"), pass in the new name as a
              second parameter after <code class="code">/install</code>. For example: <code class="code">mis.exe /install Catalys MIS</code>.
            </li><li class="listitem">
              To prevent the automatic start of the service when the computer reboots, use the
              <code class="code">/install-demand</code> option instead of <code class="code">/install</code>.
            </li></ul></div></li></ol></div><p>
        If the service installation is successful, the line "Installed service 'mis'" is output to the
        console. If the service was installed under a different name, that name will be output instead of "mis".
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mis_installation-unix"></a>2.4.6.2.&nbsp;Installation Steps - Unix</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Note that the 'root' user must run this installation.</li><li class="listitem">
          Create a link in folder <span class="emphasis"><em>/etc/init.d</em></span> to the MIS executable. If symlinks were set up, the
          link should be to the service executable there. If not, link to the service executable in the MIS directory.
          <pre class="programlisting">%&gt; ln -fs /usr/local/bin/mis /etc/init.d</pre> or
          <pre class="programlisting">%&gt; ln -fs &lt;MIS_HOME&gt;/bin/mis /etc/init.d</pre></li><li class="listitem">
          Use the installed service to start the MIS:
          <pre class="programlisting">%&gt; /etc/init.d/mis start</pre></li><li class="listitem">
          Check that the MIS was successfully started by looking at the end of the MIS log file:
          <pre class="programlisting">%&gt; tail -100 &lt;MIS_HOME&gt;/logs/catalys-mis.log</pre><p>You should see something like:</p><pre class="programlisting">******************************************************************************
Apr 28 10:35:37 mis MIS[44820]:
Apr 28 10:35:37 mis MIS[44820]:   CameronTec - Management Information Server (MIS)
Apr 28 10:35:37 mis MIS[44820]:
Apr 28 10:35:37 mis MIS[44820]:      version  : 2.2
Apr 28 10:35:37 mis MIS[44820]:      revision : 20567
Apr 28 10:35:37 mis MIS[44820]:      build    : 20150428101439
Apr 28 10:35:37 mis MIS[44820]:
Apr 28 10:35:37 mis MIS[44820]:      Copyright (c) 1997-2015 CameronTec.
Apr 28 10:35:37 mis MIS[44820]:      All rights reserved.
Apr 28 10:35:37 mis MIS[44820]:
Apr 28 10:35:37 mis MIS[44820]:
******************************************************************************</pre></li><li class="listitem">
          Ensure the operating system will start/stop the MIS automatically at the right run level, which involves
          creating symbolic links in the appropriate rc*.d run-level directories.

          <div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
              On Red Hat systems use the chkconfig command:
              <pre class="programlisting">%&gt; chkconfig --add mis</pre></li><li class="listitem">
              On Debian and Ubuntu use the following command:
              <pre class="programlisting">%&gt; update-rc.d mis defaults</pre></li><li class="listitem">
              On Solaris, a startup (S) and process kill (K) link must be created for each desired runlevel. A
              typical configuration is:
              <pre class="programlisting">ln -s /etc/init.d/mis /etc/rc0.d/K20mis
ln -s /etc/init.d/mis /etc/rc1.d/K20mis
ln -s /etc/init.d/mis /etc/rc2.d/S20mis
ln -s /etc/init.d/mis /etc/rc3.d/S20mis</pre></li></ul></div></li><li class="listitem">
          (Optional) Running the MIS as a non-root user
          <p>
            While the MIS service must be installed by root, it can be configured to run as any user that
            has the correct permissions. To enable this, edit the <span class="emphasis"><em>mis</em></span> service executable
            script.  Uncomment the line with the "RUNUSER" variable, and set it to the username that you wish to run
            the service.  Note that the user you have specified needs to have full access to the MIS
            installation directory, so you may need to either change the ownership of the directory using the
            <code class="code">chown</code> command or change the permissions of the directory using the
            <code class="code">chmod</code> command.
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-unwrapped-mode"></a>2.4.7.&nbsp;MIS Unwrapped Mode</h3></div></div></div><p>
      To run the MIS without the Java Service Wrapper, obtain the unwrapped package from the CameronTec Support Portal
      and unzip it. The package name is similar to the installer executables but including the string
      <span class="emphasis"><em>package</em></span>. For example: <span class="emphasis"><em>catalys-mis-2.2-package-r&lt;revision&gt;.zip</em></span>.
      The <span class="emphasis"><em>r&lt;revision&gt;</em></span> indicates the latest
      <a href="ch01s03.html" title="1.3.&nbsp;Catalys Releases">maintenance revision number</a>.
    </p><p>
      Copy your license file to a directory on the MIS classpath; the default license directory for the unwrapped
      package is the <span class="emphasis"><em>/resources</em></span> directory. Run <span class="emphasis"><em>bin/mis.sh</em></span> (on Unix platforms)
      or <span class="emphasis"><em>bin/mis.bat</em></span> (Windows) to run the MIS directly as a Java application in a console window.
      This program will print log messages to that console window. To stop the MIS when it is being run in its
      unwrapped mode, simply press CTRL-C in the console window.
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-verify"></a>2.4.8.&nbsp;Verify Installation</h3></div></div></div><p>
      Point your browser to the URL containing the name or IP address and the port of the MIS Dashboard Server. The
      default URL is <span class="emphasis"><em>http://localhost:8080</em></span>.
    </p><p>
      The MIS login window will appear in the browser. Default login credentials are 'admin'/'admin', and should be
      changed after logging in for the first time.
    </p><p>
      If this login window does not appear or the MIS installation has not proceeded successfully then refer to the
      <a href="ch02s04.html#mis_installation-trouble" title="2.4.11.&nbsp;Troubleshooting">Troubleshooting</a>
      section.
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-ports"></a>2.4.9.&nbsp;MIS Ports</h3></div></div></div><p>
      The following are a list of ports the MIS uses in order to communicate with Catalys Node/LMA instances running on
      a different server and to expose the Dashboard web application. These ports need to be opened if there is a
      firewall in front of the MIS server. The configuration attribute is included in case the default port needs to be
      changed in the <span class="emphasis"><em>conf/mis.conf</em></span> file of your MIS install.
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>JMX connector listening port: 10000</p><p>
          The default value can be changed by uncommenting and modifying this attribute to a new port:
        </p><pre class="programlisting">mis.jmxConnectorServer/JMXServiceURL</pre></li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Logs replication listening port: 12000</p><p>
          The default value can be changed by uncommenting and setting these two attributes to the same port:
        </p><pre class="programlisting">lrs.logsReplicationServiceClient/connectionManagerListenPortRangeStart</pre><pre class="programlisting">lrs.logsReplicationServiceClient/connectionManagerListenPortRangeEnd</pre></li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dashboard webserver port: 8080</p><p>
          The default value can be changed by uncommenting and setting this attribute to a new port:
        </p><pre class="programlisting">dashboard.webServer/port</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-command-line-options"></a>2.4.10.&nbsp;Command Line Options</h3></div></div></div><p>
      The <code class="code">mis.[exe|sh]</code> service executable provides command line options to interact with the service.
      In Windows, each of these options is preceded by a forward slash (e.g. <code class="code">/start</code> and
      <code class="code">/stop</code>).
    </p><div class="note"><h3 class="title">Note</h3><p>
        In Windows, if the service was installed with a name other than the default ("mis"), that name must be passed as
        a second parameter after the option. When using the installer on Windows, the service is installed with the name
        "Catalys MIS".
      </p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="code">start</code>: starts the MIS service manually, outputting messages to a file in the
        <span class="emphasis"><em>/logs</em></span> directory of the MIS installation
      </li><li class="listitem"><code class="code">stop</code>: stops the MIS service manually
      </li><li class="listitem"><code class="code">run</code>: starts the MIS service in the foreground, outputting messages to the console, as well as in
        the <span class="emphasis"><em>/logs</em></span> directory in the MIS installation. This is intended primarily for debugging the
        service installation; for extended use of the MIS in a non-service mode, the
        <span class="emphasis"><em>misconsole.[exe|sh]</em></span> executable is recommended.
      </li><li class="listitem"><code class="code">status</code>: prints out whether the MIS service is running or not running
      </li><li class="listitem"><code class="code">restart</code>: stops the MIS service manually and starts it again, outputting messages to a file in the
        <span class="emphasis"><em>/logs</em></span> directory of the MIS installation
      </li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mis_installation-trouble"></a>2.4.11.&nbsp;Troubleshooting</h3></div></div></div><p>Below are commonly encountered startup issues and their resolutions.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Java not installed</p><pre class="programlisting">java: command not found</pre><p>
          A Java Runtime Environment (JRE) version 8 or higher must be installed to run the MIS.
        </p></li><li class="listitem"><p>Java version mismatch</p><pre class="programlisting">Exception in thread "main" java.lang.UnsupportedClassVersionError: \
  com/camerontec/catalys/server/CatalysServer: Unsupported major.minor version 51.0</pre><p>
          A Java Runtime Environment (JRE) version 8 or higher must be installed to run the MIS.
        </p></li><li class="listitem"><p>Missing or incorrectly configured license</p><p>
          The directory where the <span class="emphasis"><em>camerontec_license.xml</em></span> file lives must be on the classpath
          of the MIS. When using the installer, the default directory for the license is <span class="emphasis"><em>/conf</em></span>.
        </p><p>
          More information on licensing is located <a href="ch02s03.html" title="2.3.&nbsp;License Management">here</a>.
        </p></li><li class="listitem"><p>License version mismatch</p><pre class="programlisting">License Error: Product "Catalys-MIS-2.2" is not present in the license</pre><p>
          You are attempting to run a version of the MIS that does not match the version in your
          license. Please contact your account manager for an updated license.
        </p></li><li class="listitem"><p>Dashboard webserver port in use</p><p>
          The MIS Dashboard starts a web server on port 8080 by default. If another application is using this port then
          the MIS will not start. Either stop or re-configure the other application, or change the port which the
          dashboard uses. This is configured in the the MIS configuration file:
        </p><pre class="programlisting">dashboard.webServer/port = 8081</pre></li><li class="listitem"><p>JMXMP Connector port clash</p><p>
          The MIS uses port 10000 for its JMXMP connector. If this clashes with other applications, then the MIS will
          not start. This port can be changed to something other than the default in the MIS configuration file:
        </p><pre class="programlisting">ma.jmxConnectorServer/JMXServiceURL = service:jmx:jmxmp://localhost:15000</pre></li><li class="listitem"><p>Database Server Does Not Start</p><p>
          The MIS is runs with the H2 database be default, the database server will attempt to listen on all available
          IP addresses. With certain configurations (e.g. when also running a VPN), the database server may fail to
          startup because it cannot listen on one of these IP addresses. This will result in messages such as:
        </p><pre class="programlisting">jvm 1 | com.camerontec.common.components.ExecutableStartException: \
  The embedded H2 database server was unable to start: \
  org.h2.jdbc.JdbcSQLException: Connection is broken [90067-79]</pre><p>
          To solve this problem, the H2 database server can be told to bind to a specific IP address using the
          <code class="code">-Dh2.bindAddress</code> system property. Choose an IP address, ensure that it can be pinged, then set
          the system property in the <span class="emphasis"><em>conf/wrapper.conf</em></span> file, by adding an additional java
          parameter. For example:
        </p><pre class="programlisting">wrapper.java.additional.3=-Dh2.bindAddress=192.168.1.5</pre></li><li class="listitem"><p>MIS does not start when running as a Windows Service</p><p>
          If the MIS is set to run as a Windows Service and the following error is displayed when accessing the
          Dashboard:
        </p><pre class="programlisting">HTTP ERROR: 503 Problem accessing /dashboardView.htm. Reason: Service Unavailable</pre><p>
          This would be an indication that Jetty was unable to create a tmp dir under the User's temp directory. To
          confirm this, open <span class="emphasis"><em>log4.xml</em></span> file located under the resources directory and set the
          <code class="code">org.eclipse.jetty</code> category to level <code class="code">WARN</code>.
        </p><pre class="programlisting">&lt;category name="org.eclipse.jetty"&gt;
  &lt;level value="WARN"/&gt;
&lt;/category&gt;</pre><p>
          Restart the MIS and the MIS logfile should contain a similar <code class="code">IllegalStateException</code> as followed:
        </p><pre class="programlisting">WARN [org.eclipse.jetty.webapp.WebAppContext] - Failed startup of context \
  o.e.j.w.WebAppContext{/,null},../web/webapps/dashboard        \
  java.lang.IllegalStateException: Cannot create tmp dir in     \
  C:\windows\system32\config\systemprofile\AppData\Local\Temp\  \
  for context o.e.j.w.WebAppContext{/,null},../web/webapps/dashboard</pre><p>
          To resolve this problem, Jetty can be configured to use a different <code class="code">basetempdir</code>. The
          configuration change will need to be done on the <span class="emphasis"><em>dashboard.xml</em></span>
          file located under <span class="emphasis"><em>\web\contexts</em></span>. Add the following section to the end of the Configure
          element.
        </p><pre class="programlisting">&lt;Call name="setAttribute"&gt;
  &lt;Arg&gt;org.eclipse.jetty.webapp.basetempdir&lt;/Arg&gt;
  &lt;Arg&gt;.&lt;/Arg&gt;
&lt;/Call&gt;</pre><p>Once the changes are saved, restart the MIS.</p></li><li class="listitem"><p>Log Streaming fails on Solaris</p><p>
          Logs replication makes use of the Snappy Java compression library to compress the data it replicates. This
          compression library has a dependency on <span class="emphasis"><em>libstdc++.so.6</em></span>. On Solaris this library is not
          included with Snappy. This will result in an exception when starting the MIS:
        </p><pre class="programlisting">Exception in thread "LogsReplicationConnectionManager" java.lang.UnsatisfiedLinkError: \
   /var/tmp/snappy-1.1.0.1-a5bb2938-6b34-4175-a40d-528f1b75e55a-libsnappyjava.so: \
   ld.so.1: java: fatal: libstdc++.so.6: open failed: No such file or directory</pre><p>
          To solve this problem, it is necessary to make sure Snappy can find this library. This can be done by setting
          the <code class="code">LD_LIBRARY_PATH</code> to <code class="code">/usr/sfw/lib:/usr/sfw/lib/amd64</code>.
        </p></li></ul></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.3.&nbsp;License Management&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;3.&nbsp;Configuration And Maintenance</td></tr></table></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:date="http://exslt.org/dates-and-times" id="footer_copyright"><div id="footer_copyright_pubdate">Published 2024-02-22T15:53:32+01:00</div><div id="footer_copyright_copy">
        Copyright &copy; 2024 CameronTec</div></div></body></html>