
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title xmlns:d="http://docbook.org/ns/docbook">Catalys LMA User Guide &#151; 3.5.&nbsp;SSL</title><link rel="stylesheet" type="text/css" href="../resources/docbook.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Catalys LMA User Guide"><link rel="up" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Configuration"><link rel="prev" href="ch03s04.html" title="3.4.&nbsp;LMA Scripts"><link rel="next" href="ch04.html" title="Chapter&nbsp;4.&nbsp;API"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns:d="http://docbook.org/ns/docbook" class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch03s04.html">Prev</a>&nbsp;</td><th width="60%" align="center"><div id="navheader_chapter_title">Chapter&nbsp;3.&nbsp;Configuration</div><div><a accesskey="h" href="index.html">Home</a></div></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch04.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="Local_Management_Agent_Configuration-ssl"></a>3.5.&nbsp;SSL</h2></div></div></div><p>
    This chapter describes how to enable SSL encryption between the LMA and the MIS. Please 
    follow these steps.  
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Configuration-ssl-creating_keystore_lma"></a>3.5.1.&nbsp;Creating keystore in the LMA</h3></div></div></div><p>Create a keystore in <code class="code">%LMA_HOME%\resources</code></p><pre class="programlisting">keytool -keystore keystore -genkey -keyalg RSA</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Configuration-ssl-export_cert"></a>3.5.2.&nbsp;Export the LMA&#8217;s certificate</h3></div></div></div><p>Also in <code class="code">%LMA_HOME%\resources</code> run</p><pre class="programlisting">keytool -exportcert -file lma.cert -keystore keystore -storepass password</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Configuration-ssl-creating_keystore_mis"></a>3.5.3.&nbsp;Create a keystore in the MIS</h3></div></div></div><p>Create a keystore in <code class="code">%MIS_HOME%\resources</code></p><pre class="programlisting">keytool -keystore keystore -genkey -keyalg RSA &#8211;validity 3650</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Configuration-ssl-import_lma_cert_into_mis"></a>3.5.4.&nbsp;Import the LMA&#8217;s certificate into the MIS&#8217; keystore</h3></div></div></div><pre class="programlisting">keytool -importcert -file path\to\lma.cert -keystore keystore 
        -storepass &lt;password&gt; -keypass &lt;password&gt; -trustcacerts -alias lma</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Configuration-ssl-lma_configuration"></a>3.5.5.&nbsp;LMA Configuration</h3></div></div></div><p>Add the following section to the <code class="code">%LMA_HOME%\conf\lma.conf</code> 
      (inside <code class="code">&lt;lma-configuration&gt; element):</code></p><pre class="programlisting">&lt;security&gt;
  &lt;tls-server/&gt;
&lt;/security&gt;
      </pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Configuration-ssl-mis_configuration"></a>3.5.6.&nbsp;MIS Configuration</h3></div></div></div><p>Add the following section to the <code class="code">%MIS_HOME%\conf\mis.conf</code> (and adjust hostname):</p><pre class="programlisting">ma/managedHosts = \
&lt;set&gt;\
  &lt;value&gt;\
    &lt;host&gt;localhost&lt;/host&gt;\
    &lt;security-profile&gt;\
      &lt;socket-factory&gt;sun.security.ssl.SSLSocketFactoryImpl&lt;/socket-factory&gt;\
      &lt;protocols&gt;\
      &lt;/protocols&gt;\
      &lt;cypher-suites&gt;\
      &lt;/cypher-suites&gt;\
      &lt;/security-profile&gt;\
   &lt;/value&gt;\
&lt;/se&gt;&gt;
    </pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Configuration-ssl-lma_path-to_keystore"></a>3.5.7.&nbsp;Specify LMA path to keystore</h3></div></div></div><p>In the <code class="code">%LMA_HOME%\conf\wrapper.conf</code> add the following additional Java parameters (adjust values)</p><pre class="programlisting">wrapper.java.additional.1=-Djavax.net.ssl.keyStore=%LMA_HOME%\resources\keystore
wrapper.java.additional.2=-Djavax.net.ssl.keyStorePassword=&lt;password&gt;s</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Configuration-ssl-mis_path-to_keystore"></a>3.5.8.&nbsp;Specify MIS path to keystore</h3></div></div></div><p>In the <code class="code">%MIS_HOME\conf\mis-wrapper.conf</code> add the following additional Java parameters (adjust values)</p><pre class="programlisting">wrapper.java.additional.1=-Djavax.net.ssl.keyStore=%MIS_HOME%\resources\keystore
wrapper.java.additional.2=-Djavax.net.ssl.keyStorePassword=&lt;password&gt;
wrapper.java.additional.3=-Djavax.net.ssl.trustStore=%MIS_HOME%\resources\keystore
wrapper.java.additional.4=-Djavax.net.ssl.trustStorePassword=&lt;password&gt;</pre></div><p>Now you can restart the LMA and MIS.</p></div><div xmlns:d="http://docbook.org/ns/docbook" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s04.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">3.4.&nbsp;LMA Scripts&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;4.&nbsp;API</td></tr></table></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:date="http://exslt.org/dates-and-times" id="footer_copyright"><div id="footer_copyright_pubdate">Published 2022-04-05T14:53:01+02:00</div><div id="footer_copyright_copy">
        Copyright &copy; 2022 CameronTec</div></div></body></html>