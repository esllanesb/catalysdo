
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title xmlns:d="http://docbook.org/ns/docbook">Catalys LMA User Guide &#151; 2.3.&nbsp;Installation Steps</title><link rel="stylesheet" type="text/css" href="../resources/docbook.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Catalys LMA User Guide"><link rel="up" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Installation"><link rel="prev" href="ch02s02.html" title="2.2.&nbsp;Compatibility"><link rel="next" href="ch02s04.html" title="2.4.&nbsp;Troubleshooting"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns:d="http://docbook.org/ns/docbook" class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a>&nbsp;</td><th width="60%" align="center"><div id="navheader_chapter_title">Chapter&nbsp;2.&nbsp;Installation</div><div><a accesskey="h" href="index.html">Home</a></div></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch02s04.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="Local_Management_Agent_Installation-installer-steps"></a>2.3.&nbsp;Installation Steps</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
        Download the installer for your platform:
        <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="bold"><strong>Linux, Solaris, Mac OSX, and other Unix-based systems</strong></span>:
            <span class="emphasis"><em>catalys-lma-2.2-installer-r&lt;revision&gt;.sh</em></span><p>
              After downloading this file, you may need to make it executable if not already. This
              can be done by running <code class="code">chmod +x <span class="emphasis"><em>&lt;filename&gt;</em></span></code>.
            </p></li><li class="listitem"><span class="bold"><strong>Windows 64-bit</strong></span>:
            <span class="emphasis"><em>catalys-lma-2.2-installer-64bit-r&lt;revision&gt;.exe</em></span></li><li class="listitem"><span class="bold"><strong>Windows 32-bit</strong></span>:
            <span class="emphasis"><em>catalys-lma-2.2-installer-32bit-r&lt;revision&gt;.exe</em></span></li></ul></div><p>
          The <span class="emphasis"><em>r&lt;revision&gt;</em></span> indicates the latest
          <a href="ch01s03.html" title="1.3.&nbsp;Catalys Releases">maintenance revision number</a>.
        </p><p>Windows installers require a JRE to be installed that matches the architecture of the installer.</p></li><li class="listitem">
        Launch the installer.
	      <div class="note"><h3 class="title">Note</h3><p>
            When the Windows installer is launched, a User Access Control dialog appears asking if this installer has
            permission to make changes to the system as an Administrator. If the installer was launched by a user that
            is not in the Administrators Group role the dialog also prompts for Administrator credentials.  If Yes is
            clicked (and Administrator credentials are entered if required), the installer will display screens related
            to Service installation. If Administrator credentials are unavailable or service installation is not
            needed, click No to  close the dialog and resume installation without elevated privileges, with only the
            service installation screens being unavailable.
          </p></div></li><li class="listitem">
        Select a Destination Directory: This is where the LMA distribution will be installed.
      </li><li class="listitem">
        Program Group: On Windows, this allows creation of a Start Menu folder and shortcuts for the LMA executable.
        On Linux/Solaris, this allows creation of symlinks for the LMA executable.
      </li><li class="listitem">
        Install Service: Select this option to have the installer configure the LMA executable as a background service
        daemon process.   If this option is selected, the final screen of the installer will give the option to attempt
        to start the service before the installer closes.  Note that the service will install and run as Local System
        account (on Windows) and as root (on Linux/Solaris).
        <div class="note"><h3 class="title">Note</h3><p>
            This screen will only be displayed if the installer was Run As Administrator or was given permission in the
            UAC dialog to make changes as Adminstrator (on Windows) or as root (on Linux/Solaris).
          </p></div></li></ol></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Installation-directories"></a>2.3.1.&nbsp;Post-Installation LMA Directories</h3></div></div></div><p>
        After the installation is complete, you will see the following LMA directories. The default location is
        <span class="emphasis"><em>&lt;INSTALL_BASE&gt;/CameronTec/catalys-lma-2.2</em></span>.
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="bold"><strong>bin</strong></span> - contains the LMA executables, including the service executable and the
          console executable
        </li><li class="listitem"><span class="bold"><strong>conf</strong></span> - contains logging configuration and the configuration for the LMA
          executable
        </li><li class="listitem"><span class="bold"><strong>data</strong></span> - contains the LMA registry file
        </li><li class="listitem"><span class="bold"><strong>doc</strong></span> - contains information on our 3rd party libraries and has links to our
          online documentation
        </li><li class="listitem"><span class="bold"><strong>lib</strong></span> - contains <span class="emphasis"><em>catalys-lma.jar</em></span></li><li class="listitem"><span class="bold"><strong>scripts</strong></span> - contains scripts executed by the LMA and published as attributes
          of the <code class="code">LMA.Scripts</code> MBean
        </li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Installation-upgrading"></a>2.3.2.&nbsp;Upgrading or Installing Additional Features</h3></div></div></div><p>
		    The installer can be used for upgrading the LMA to a newer version, starting at version 2.2 or later. It can
		    also be rerun to choose additional options that weren't selected on a previous installation. When the installer
		    starts it should recognize that a previous installation exists.
		  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Installation-uninstaller"></a>2.3.3.&nbsp;Uninstaller</h3></div></div></div><p>
		    To uninstall Catalys LMA, run the <span class="emphasis"><em>uninstall</em></span> executable located in the Catalys LMA home
        directory. On Windows, this uninstaller can also be invoked from the <span class="emphasis"><em>Programs and Features</em></span>
        tool by selecting the Catalys LMA entry and clicking "Uninstall/Change".  The uninstaller will delete the
        Catalys LMA root directory and all files and directories it contains.  If the parent directory
        (<span class="emphasis"><em>CameronTec</em></span> by default) is empty and was created by the installer, it will be deleted as
        well. If the LMA was installed as a service by the installer, running the uninstaller will remove this service.
        If the service was installed manually, it must be removed manually be the user - the uninstaller will not
        attempt to remove it.
		  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Installation-service"></a>2.3.4.&nbsp;Manual Service Installation</h3></div></div></div><p>
        The Catalys LMA installer provides the option to install and start the LMA as a service.  If this was not done
        initially, it can be done at a later time by re-running the installer. However, the LMA can also be manually
        configured to run as a service without using the installer with the following steps.
      </p><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="Local_Management_Agent_Installation-steps-windows"></a>Installation Steps - Windows</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
            Open a Command Prompt
				    <div class="note"><h3 class="title">Note</h3><p>
					      If User Account Control (UAC) is enabled on the system, the Command Prompt must be opened by an
                Administrator (right click on <code class="code">cmd.exe</code> and select "Run as administrator").
				      </p></div></li><li class="listitem">
            Change the directory to the <span class="emphasis"><em>\bin</em></span> directory under the LMA installation directory
          </li><li class="listitem">Execute the command <code class="code">lma.exe /install</code><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
                To install the service with a different name than the default ("lma"), pass in the new name as a second
                parameter after <code class="code">/install</code>.  For example: <code class="code">lma.exe /install Catalys LMA</code>.
              </li><li class="listitem">
                To prevent the automatic start of the service when the computer reboots, use the
                <code class="code">/install-demand</code> option instead of <code class="code">/install</code>.
              </li></ul></div></li></ol></div><p>
          If the service installation is successful, the line "Installed service 'lma'" is output to the
          console.  If the service was installed under a different name, that name will be output instead of 'lma'.
        </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="Local_Management_Agent_Installation-steps-unix"></a>Installation Steps - Unix</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Note that the 'root' user must run this installation.</li><li class="listitem">
            Create a link in folder <span class="emphasis"><em>/etc/init.d</em></span> to the LMA executable. If symlinks were set up,
            link should be to the service executable there. If not, link to the service executable in the LMA directory.
		        <pre class="programlisting">%&gt; ln -fs /usr/local/bin/lma /etc/init.d</pre>
		        or
	  	      <pre class="programlisting">%&gt; ln -fs &lt;LMA_HOME&gt;/bin/lma /etc/init.d</pre></li><li class="listitem">Use the installed service to start the LMA:
			      <pre class="programlisting">%&gt; /etc/init.d/lma start</pre></li><li class="listitem">
		        Check that the LMA was successfully started by looking at the end of the LMA log file:
            <pre class="programlisting">%&gt; tail -100 &lt;LMA_HOME&gt;/logs/catalys-lma.log</pre><p>You should see something similar to:</p><pre class="programlisting">******************************************************************************
  Catalys LMA

    version  : 2.2
    revision : 37706
    build    : 20151203232007

    Copyright (c) 1997-2015 CameronTec. All rights reserved.
******************************************************************************</pre></li><li class="listitem">
		        Ensure the operating system will start/stop the LMA automatically at the right run level, which involves
            creating symbolic links in the appropriate rc*.d run-level directories.
	      	  <div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
			          On RedHat based systems use the chkconfig command:
			          <pre class="programlisting">%&gt; chkconfig --add lma</pre></li><li class="listitem">
			          On Debian and Ubuntu use the following command:
			          <pre class="programlisting">%&gt; update-rc.d lma defaults</pre></li><li class="listitem">
                On Solaris, a startup (S) and process kill (K) link must be created for each desired runlevel. A
                typical configuration is:
                <pre class="programlisting">ln -s /etc/init.d/lma /etc/rc0.d/K20lma
ln -s /etc/init.d/lma /etc/rc1.d/K20lma
ln -s /etc/init.d/lma /etc/rc2.d/S20lma
ln -s /etc/init.d/lma /etc/rc3.d/S20lma</pre></li></ul></div></li><li class="listitem">
		        (Optional) Running the LMA as a non-root user
		        <p>
			        While the LMA service must be installed by root, it can be configured to run as any user that
                  has the correct permissions. To enable this, edit the <span class="emphasis"><em>lma</em></span> service executable
                  script.  Uncomment the line with the "RUNUSER" variable, and set it to the username that you wish to run
                  the service.  Note that the user you have specified needs to have full access to the LMA
              installation directory, so you may need to either change the ownership of the directory using the
              <code class="code">chown</code> command or change the permissions of the directory using the
              <code class="code">chmod</code> command.
		        </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Installation-unwrapped-mode"></a>2.3.5.&nbsp;LMA Unwrapped Mode</h3></div></div></div><p>
		    To run the LMA without the Java Service Wrapper, obtain the unwrapped package from the CameronTec Support Portal
		    and unzip it. The package name is similar to the installer executable but including the string
		    <span class="emphasis"><em>package</em></span>. For example: <span class="emphasis"><em>catalys-lma-2.2-package-r&lt;revision&gt;.zip</em></span>.
        The <span class="emphasis"><em>r&lt;revision&gt;</em></span> indicates the latest
        <a href="ch01s03.html" title="1.3.&nbsp;Catalys Releases">maintenance revision number</a>.
		  </p><p>
		    The package structure is similar to the platform-specific one. Run <span class="emphasis"><em>bin/lma.sh</em></span> (on Unix
		    platforms) or <span class="emphasis"><em>bin/lma.bat</em></span> (Windows) to run the LMA directly as a Java application in a
		    console window. This program will print log messages to that console window. To stop the LMA when it is being
		    run in its unwrapped mode, simply press CTRL-C in the console window.
		  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Local_Management_Agent_Installation-command-line-options"></a>2.3.6.&nbsp;Command Line Options</h3></div></div></div><p>
        The <span class="emphasis"><em>lma.[exe|sh]</em></span> service executable provides command line options to interact with the
        service. In Windows, each of these options is preceded by a forward slash (e.g. <code class="code">/start</code> and
        <code class="code">/stop</code>).
      </p><div class="note"><h3 class="title">Note</h3><p>
				  In Windows, if the service was installed with a name other than the default ("lma"), that name must be
          passed as a second parameter after the option.
			  </p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="code">start</code>: starts the LMA service manually, outputting messages to a file in the
          <span class="emphasis"><em>/logs</em></span> directory of the LMA installation home
        </li><li class="listitem"><code class="code">stop</code>: stops the LMA service manually
        </li><li class="listitem"><code class="code">run</code>: starts the LMA service in the foreground, outputting messages to the
          console, as well as in the <span class="emphasis"><em>/logs</em></span> directory in the LMA installation home. This is
          intended primarily for debugging the service installation; for extended use of the LMA in a non-service mode,
          the <span class="emphasis"><em>lmaconsole.[exe|sh]</em></span> executable is recommended.
        </li><li class="listitem"><code class="code">status</code>: prints out whether the LMA service is running or not running
        </li><li class="listitem"><code class="code">restart</code>: stops the LMA service manually and starts it again, outputting
          messages to a file in the <span class="emphasis"><em>/logs</em></span> directory of the LMA installation home
        </li></ul></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch02s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.2.&nbsp;Compatibility&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;2.4.&nbsp;Troubleshooting</td></tr></table></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:date="http://exslt.org/dates-and-times" id="footer_copyright"><div id="footer_copyright_pubdate">Published 2022-04-05T14:53:00+02:00</div><div id="footer_copyright_copy">
        Copyright &copy; 2022 CameronTec</div></div></body></html>