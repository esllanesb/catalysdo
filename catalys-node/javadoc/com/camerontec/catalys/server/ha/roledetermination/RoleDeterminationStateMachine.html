<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Thu Feb 22 15:47:40 CET 2024 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RoleDeterminationStateMachine (Catalys::Doc::Catalys Node 2.2 API)</title>
<meta name="date" content="2024-02-22">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RoleDeterminationStateMachine (Catalys::Doc::Catalys Node 2.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RelinquishingPrimaryActionsFailedException.html" title="class in com.camerontec.catalys.server.ha.roledetermination"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html" target="_top">Frames</a></li>
<li><a href="RoleDeterminationStateMachine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.camerontec.catalys.server.ha.roledetermination</div>
<h2 title="Class RoleDeterminationStateMachine" class="title">Class RoleDeterminationStateMachine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.camerontec.catalys.server.ha.roledetermination.RoleDeterminationStateMachine</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/IEventListener.html" title="interface in com.camerontec.catalys.server.ha.cluster.events">IEventListener</a>&lt;<a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/GroupEvent.html" title="class in com.camerontec.catalys.server.ha.cluster.events">GroupEvent</a>&gt;, <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationStateMachine</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">RoleDeterminationStateMachine</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationStateMachine</a>, <a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/IEventListener.html" title="interface in com.camerontec.catalys.server.ha.cluster.events">IEventListener</a>&lt;<a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/GroupEvent.html" title="class in com.camerontec.catalys.server.ha.cluster.events">GroupEvent</a>&gt;</pre>
<div class="block">State machine used to perform role determination. <br>
 The state machine has dependencies on:
 <ul>
   <li>An <a href="../../../../../../com/camerontec/catalys/server/ha/cluster/IDistributedGroupController.html" title="interface in com.camerontec.catalys.server.ha.cluster"><code>IDistributedGroupController</code></a> providing access to group snapshots, group change events and
       group-related actions (join, leave, change role).
   </li>
   <li>The <a href="../../../../../../com/camerontec/catalys/server/ha/cluster/IClusterDefinition.html" title="interface in com.camerontec.catalys.server.ha.cluster"><code>IClusterDefinition</code></a> exposing the identities of the nodes in the cluster.
   </li>
   <li>An <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationExternalActions.html" title="interface in com.camerontec.catalys.server.ha.roledetermination"><code>IRoleDeterminationExternalActions</code></a> for executing actions such as a role change.
   </li>
   <li>An <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationFailureListener.html" title="interface in com.camerontec.catalys.server.ha.roledetermination"><code>IRoleDeterminationFailureListener</code></a> for reporting unexpected failures.
   </li>
   <li>A number of constants read from the configuration: N, I, K2, K3, K4, automaticFailover.
   </li>
 </ul>
 The state machine runs off its own thread which is also the thread that it uses to execute actions through its 
 <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationExternalActions.html" title="interface in com.camerontec.catalys.server.ha.roledetermination"><code>IRoleDeterminationExternalActions</code></a>. <br><br>
 
 The state machine reacts to events read from a blocking queue. This guarantees that events occurring when the
 state machine's thread is busy will be processed later. 
 
 <h3>Definitions</h3>
 
 <h4>Constants</h4>
 <br>
 These constants are read from the configuration:
 <br><br>
 <table border="1" cellpadding="5" summary="constants">
   <tr>
     <th>Constant</th>
     <th>Description</th>
     <th>Unit</th>
     <th>Typical value</th>
   </tr>
   <tr>
     <th>P</th>
     <td>The underlying communication group's pulse. Corresponds to the periodicity at which group members are 
         expected to broadcast their state to the rest of the group.
     </td>
     <td align="center">ms</td>
     <td align="center">1,000</td>
   </tr>
   <tr>
     <th>K1</th>
     <td>Number of group pulses after which a member can be considered to have left the group (K1 * P is the group's age threshold). 
         Must be greater than 3, and longer if heavy GCs are to be expected.
     </td>
     <td align="center">-</td>
     <td align="center">5</td>
   </tr>
   <tr>
     <th>K2</th>
     <td>Enough time for a node to perform the necessary checks before attempting to become primary: time to test network 
         connectivity + time to perform custom checks + time to interrogate the LMA to see if the primary is still running + time to kill the primary if needed.
     </td>
     <td align="center">ms</td>
     <td align="center">10,000</td>
   </tr>
   <tr>
     <th>K3</th>
     <td>Enough time for a node to run the becoming-primary actions.
     </td>
     <td align="center">ms</td>
     <td align="center">30,000</td>
   </tr>
   <tr>
     <th>K4</th>
     <td>Enough time for a node to run the relinquishing-primary actions.
     </td>
     <td align="center">ms</td>
     <td align="center">10,000</td>
   </tr>
   <tr>
     <th>N</th>
     <td>Size of the cluster.
     </td>
     <td align="center">-</td>
     <td align="center">-</td>
   </tr>
   <tr>
     <th>I</th>
     <td>This node's identity in the cluster.
     </td>
     <td align="center">-</td>
     <td align="center">-</td>
   </tr>
   <tr>
     <th>automaticFailover</th>
     <td>tells whether the local node should ever attempt to become primary on its own or if it should only become primary if 
         manually instructed to do so.
     </td>
     <td align="center">-</td>
     <td align="center">-</td>
   </tr>
 </table>
 
 <h4>Variables</h4>
 <br>
 The state machine manipulates the following variables:
 <br><br>
 <table border="1" cellpadding="5" summary="variables">
   <tr>
     <th>Variable</th>
     <th>Description</th>
   </tr>
   <tr>
     <th>role</th>
     <td>this node's role, as advertised to other nodes through the group. Values can be:
         <ul>
           <li>S  - Secondary</li>
           <li>BP - Becoming Primary</li>
           <li>P  - Primary</li>
           <li>RP - Relinquishing Primary</li>
         </ul>
     </td>
   </tr>
   <tr>
     <th>GIS</th>
     <td>Identities of all the nodes with the S role.
     </td>
   </tr>
   <tr>
     <th>GIBP</th>
     <td>Identities of all the nodes with the BP role. There can be more than one such node when the cluster is in an inconsistent state.
     </td>
   </tr>
   <tr>
     <th>GIP</th>
     <td>Identities of all the nodes with the P role. There can be more than one such node when the cluster is in an inconsistent state.
     </td>
   </tr>
   <tr>
     <th>GIRP</th>
     <td>Identities of all the nodes with the RP role. There can be more than one such node when the cluster is in an inconsistent state.
     </td>
   </tr>
   <tr>
     <th>IPP</th>
     <td>Identifies the node that was previously holding the primary role in the cluster. This variable is set to a non-null value when 
         the primary abruptly leaves the group and it is used during the primary validity checks to determine if the underlying OS process is still alive.
     </td>
   </tr>
 </table>
 
 <h4>States</h4>
 <br>
 Below are the states that comprise the state machine:
 <br><br>
 <table border="1" cellpadding="5" summary="states">
   <tr>
     <th>State</th>
     <th>Description</th>
   </tr>
   <tr>
     <th>Start</th>
     <td>Transitory state used only when initializing the state machine.
     </td>
   </tr>
   <tr>
     <th>Listen To Group</th>
     <td>State of a node that wishes to discover who is the current primary through the group.
     </td>
   </tr>
   <tr>
     <th>Primary Validity Check</th>
     <td>State of a node that wishes to check if it can become primary (am I still connected to the network, it the primary really dead ?).
     </td>
   </tr>
   <tr>
     <th>Become Primary</th>
     <td>State of a node in the process of becoming primary (this is where the becoming-primary actions are executed).
     </td>
   </tr>
   <tr>
     <th>Become Primary Failed</th>
     <td>State that results from a failure to run the primary start script in the <b>Become Primary</b> state.
     </td>
   </tr>
   <tr>
     <th>Primary Pending</th>
     <td>State indicating that another node in the cluster is in the process of becoming primary.
     </td>
   </tr>
   <tr>
     <th>Steady State - Secondary</th>
     <td>State of a node that is not primary and that knows who the primary is and that the primary is currently alive.
     </td>
   </tr>
   <tr>
     <th>Steady State - Primary</th>
     <td>State of a node that is currently primary.
     </td>
   </tr>
   <tr>
     <th>Inconsistent Cluster State</th>
     <td>State that indicates that an invalid combination of individual node roles was detected (for example, two primaries, 
         or one primary and one becoming primary).
     </td>
   </tr>
   <tr>
     <th>Instructed To Become Primary</th>
     <td>State in which the node that was instructed to become primary advertises its state to the rest of the group and listens 
         to group events to eventually determine whether it is safe to assume the primary role.
     </td>
   </tr>
   <tr>
     <th>Waiting For Primary To Stop</th>
     <td>State in which the node that wishes to become primary waits for the previous primary to relinquish its role.
     </td>
   </tr>
   <tr>
     <th>Relinquishing Primary</th>
     <td>State of a node in the process of relinquishing the primary role (this is where the relinquishing-primary actions are executed).
     </td>
   </tr>
 </table>
 
 <h4>Events</h4>
 <br>
 Below are the events that are consumed by the state machine and can trigger state transitions:
 <br><br>
 <table border="1" cellpadding="5" summary="events">
   <tr>
     <th>Event</th>
     <th>Description</th>
   </tr>
   <tr>
     <th>Timer T1 expires</th>
     <td>only relevant when in the <b>Learn Primary</b> state. Indicates that we have waited long enough to learn who the primary is and that it 
         is now time for some node to propose itself.
     </td>
   </tr>
   <tr>
     <th>Timer T2 expires</th>
     <td>only relevant when in the <b>Instructed To Become Primary</b> state. Indicates that we have waited long enough to let other nodes know that we 
         intend to become primary and that we will now either become primary or go back to <b>Steady State - Secondary</b>.
     </td>
   </tr>
   <tr>
     <th>Timer T3 expires</th>
     <td>only relevant when in the <b>Become Primary Failed</b> state. Indicates that we have waited long enough after failing to become primary to let some other 
         node become the primary and that we can now return to the <b>Learn Primary</b> state to see who the primary is.
     </td>
   </tr>
   <tr>
     <th>Timer T4 expires</th>
     <td>only relevant when in states <b>Waiting For Primary To Stop</b> and <b>Relinquishing Primary</b>. When in state <b>Waiting For Primary To Stop</b>, indicates that 
         we have waited long enough for the previous primary to execute its relinquishing-primary actions and that we cannot carry on becoming primary. 
         When in state <b>Relinquishing Primary</b>, indicates that the relinquishing-primary actions are taking too long and that we should report a failure and leave the group.
     </td>
   </tr>
   <tr>
     <th>Detected a new group member with identity IM and role S</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Detected a new group member with identity IM and role P</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Detected a new group member with identity IM and role BP</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Detected a new group member with identity IM and role RP</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from S to BP</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from S to P</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from S to RP</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from P to S</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from P to BP</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from P to RP</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from BP to S</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from BP to P</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from BP to RP</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from RP to S</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from RP to BP</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Group member with identity IM has changed role from RP to P</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Member with identity IM and role S has left the group</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Member with identity IM and role P has left the group</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Member with identity IM and role BP has left the group</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Member with identity IM and role RP has left the group</th>
     <td>&nbsp;</td>
   </tr>
   <tr>
     <th>Instructed to become primary</th>
     <td>results from the attempt to perform a manual failover. Since this action should only be made available 
         when the cluster is in steady mode, this event is only relevant when in the <b>Steady State - Secondary state</b>.
     </td>
   </tr>
   <tr>
     <th>Role conflict reported</th>
     <td>results from the detection of a role conflict involving the local cluster node by a remote cluster node. When the local
         cluster node is primary, this causes it to relinquish the primary role immediately. This mechanism is useful under
         flaky network conditions where it is possible that a primary node's host looses its network connection, causing 
         another node to become primary, and when the network connection comes back again, the second primary sees the first
         primary and immediately relinquishes its role before the first primary has had time to see the split brain.
     </td>
   </tr>
 </table>
 
 <h4>Event processing</h4>

 When the state machine enters a new state, it performs the following actions:
 <ul>
   <li>Executes the state's Inbound actions. Under some circumstances, these actions can lead to a state transition.
   </li>
   <li>Verifies that the state's Invariant is verified. Any violation of the invariant condition constitutes an internal error.
   </li>
   <li>Only if the state's inbound actions did not lead to a transition, starts listening for events.
   </li>
   <li>Processes queued events and further incoming events.
   </li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html#RoleDeterminationStateMachine-com.camerontec.catalys.server.ha.cluster.IDistributedGroupController-com.camerontec.catalys.server.ha.cluster.IClusterDefinition-com.camerontec.catalys.server.ha.roledetermination.IRoleDeterminationExternalActions-com.camerontec.catalys.server.ha.roledetermination.IRoleDeterminationFailureListener-java.lang.Long-java.lang.Integer-java.lang.Long-java.lang.Long-java.lang.Long-java.lang.Integer-java.lang.Integer-boolean-">RoleDeterminationStateMachine</a></span>(<a href="../../../../../../com/camerontec/catalys/server/ha/cluster/IDistributedGroupController.html" title="interface in com.camerontec.catalys.server.ha.cluster">IDistributedGroupController</a>&nbsp;groupController,
                             <a href="../../../../../../com/camerontec/catalys/server/ha/cluster/IClusterDefinition.html" title="interface in com.camerontec.catalys.server.ha.cluster">IClusterDefinition</a>&nbsp;clusterDefinition,
                             <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationExternalActions.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationExternalActions</a>&nbsp;actionsProvider,
                             <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationFailureListener.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationFailureListener</a>&nbsp;failureListener,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;p,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;k1,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;k2,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;k3,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;k4,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;n,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;i,
                             boolean&nbsp;automaticFailover)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html#forceLocalClusterNodeToBecomePrimary--">forceLocalClusterNodeToBecomePrimary</a></span>()</code>
<div class="block">Forces the local cluster node to become primary.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html#isStarted--">isStarted</a></span>()</code>
<div class="block">Tells whether the state machine is currently started.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html#localClusterNodeCanBecomePrimary--">localClusterNodeCanBecomePrimary</a></span>()</code>
<div class="block">Tells whether the state machine is currently in a state where it is possible to instruct the 
 local cluster node to become primary.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html#onEvent-com.camerontec.catalys.server.ha.cluster.events.GroupEvent-">onEvent</a></span>(<a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/GroupEvent.html" title="class in com.camerontec.catalys.server.ha.cluster.events">GroupEvent</a>&nbsp;event)</code>
<div class="block">Processes the given event.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html#roleConflictReported-java.lang.Integer-">roleConflictReported</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;remoteNode)</code>
<div class="block">Reports a role conflict detected by a remote cluster node.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html#start--">start</a></span>()</code>
<div class="block">Starts the state machine.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html#stop--">stop</a></span>()</code>
<div class="block">Stops the state machine.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RoleDeterminationStateMachine-com.camerontec.catalys.server.ha.cluster.IDistributedGroupController-com.camerontec.catalys.server.ha.cluster.IClusterDefinition-com.camerontec.catalys.server.ha.roledetermination.IRoleDeterminationExternalActions-com.camerontec.catalys.server.ha.roledetermination.IRoleDeterminationFailureListener-java.lang.Long-java.lang.Integer-java.lang.Long-java.lang.Long-java.lang.Long-java.lang.Integer-java.lang.Integer-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RoleDeterminationStateMachine</h4>
<pre>public&nbsp;RoleDeterminationStateMachine(<a href="../../../../../../com/camerontec/catalys/server/ha/cluster/IDistributedGroupController.html" title="interface in com.camerontec.catalys.server.ha.cluster">IDistributedGroupController</a>&nbsp;groupController,
                                     <a href="../../../../../../com/camerontec/catalys/server/ha/cluster/IClusterDefinition.html" title="interface in com.camerontec.catalys.server.ha.cluster">IClusterDefinition</a>&nbsp;clusterDefinition,
                                     <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationExternalActions.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationExternalActions</a>&nbsp;actionsProvider,
                                     <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationFailureListener.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationFailureListener</a>&nbsp;failureListener,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;p,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;k1,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;k2,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;k3,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;k4,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;n,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;i,
                                     boolean&nbsp;automaticFailover)</pre>
<div class="block">Constructor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupController</code> - the <a href="../../../../../../com/camerontec/catalys/server/ha/cluster/IDistributedGroupController.html" title="interface in com.camerontec.catalys.server.ha.cluster"><code>IDistributedGroupController</code></a> providing access to group snapshots, group change events
      and group-related actions</dd>
<dd><code>clusterDefinition</code> - the <a href="../../../../../../com/camerontec/catalys/server/ha/cluster/IClusterDefinition.html" title="interface in com.camerontec.catalys.server.ha.cluster"><code>IClusterDefinition</code></a> providing access to the identities of the nodes in the cluster</dd>
<dd><code>actionsProvider</code> - an <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationExternalActions.html" title="interface in com.camerontec.catalys.server.ha.roledetermination"><code>IRoleDeterminationExternalActions</code></a> for executing actions</dd>
<dd><code>failureListener</code> - an <a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationFailureListener.html" title="interface in com.camerontec.catalys.server.ha.roledetermination"><code>IRoleDeterminationFailureListener</code></a> for reporting unexpected failures</dd>
<dd><code>p</code> - the value of <i>P</i> read from the configuration</dd>
<dd><code>k1</code> - the value of <i>K1</i> read from the configuration</dd>
<dd><code>k2</code> - the value of <i>K2</i> read from the configuration</dd>
<dd><code>k3</code> - the value of <i>K3</i> read from the configuration</dd>
<dd><code>k4</code> - the value of <i>K4</i> read from the configuration</dd>
<dd><code>n</code> - the value of <i>N</i> read from the configuration</dd>
<dd><code>i</code> - the value of <i>I</i> read from the configuration</dd>
<dd><code>automaticFailover</code> - whether or not the state machine should attempt to take the primary role when it detects that
      there is no primary in the cluster</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if any parameter is <code>null</code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if either of the following occurs:
           <ul>
             <li><i>p</i> is not a strictly positive integer.</li>
             <li><i>k1</i> is not greater than 3.</li>
             <li><i>k2</i> is not a strictly positive integer.</li>
             <li><i>k3</i> is not a strictly positive integer.</li>
             <li><i>k4</i> is not a strictly positive integer.</li>
             <li><i>n</i> is not a strictly positive integer.</li>
             <li><i>i</i> is not a positive integer.</li>
             <li><i>i</i> is not strictly less than <i>n</i>.</li>
             <li><i>clusterDefinition</i> does not have a cluster node for each k between 0 and <i>n</i>.</li>
           </ul></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="localClusterNodeCanBecomePrimary--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localClusterNodeCanBecomePrimary</h4>
<pre>public&nbsp;boolean&nbsp;localClusterNodeCanBecomePrimary()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#localClusterNodeCanBecomePrimary--">IRoleDeterminationStateMachine</a></code></span></div>
<div class="block">Tells whether the state machine is currently in a state where it is possible to instruct the 
 local cluster node to become primary.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#localClusterNodeCanBecomePrimary--">localClusterNodeCanBecomePrimary</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationStateMachine</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> iff. the state machine is started and it is possible to instruct this cluster node to become primary</dd>
</dl>
</li>
</ul>
<a name="forceLocalClusterNodeToBecomePrimary--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceLocalClusterNodeToBecomePrimary</h4>
<pre>public&nbsp;void&nbsp;forceLocalClusterNodeToBecomePrimary()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#forceLocalClusterNodeToBecomePrimary--">IRoleDeterminationStateMachine</a></code></span></div>
<div class="block">Forces the local cluster node to become primary.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#forceLocalClusterNodeToBecomePrimary--">forceLocalClusterNodeToBecomePrimary</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationStateMachine</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#forceLocalClusterNodeToBecomePrimary--"><code>IRoleDeterminationStateMachine.forceLocalClusterNodeToBecomePrimary()</code></a></dd>
</dl>
</li>
</ul>
<a name="roleConflictReported-java.lang.Integer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>roleConflictReported</h4>
<pre>public&nbsp;void&nbsp;roleConflictReported(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;remoteNode)
                          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a>,
                                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#roleConflictReported-java.lang.Integer-">IRoleDeterminationStateMachine</a></code></span></div>
<div class="block">Reports a role conflict detected by a remote cluster node.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#roleConflictReported-java.lang.Integer-">roleConflictReported</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationStateMachine</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>remoteNode</code> - the identity of the remote cluster node that detected the role conflict</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the state machine is not started</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <i>remoteNode</i> does not represent the identity of a known cluster node</dd>
</dl>
</li>
</ul>
<a name="isStarted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStarted</h4>
<pre>public&nbsp;boolean&nbsp;isStarted()</pre>
<div class="block">Tells whether the state machine is currently started.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#isStarted--">isStarted</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationStateMachine</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> iff. the state machine is currently started</dd>
</dl>
</li>
</ul>
<a name="start--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()
           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#start--">IRoleDeterminationStateMachine</a></code></span></div>
<div class="block">Starts the state machine.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#start--">start</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationStateMachine</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the state machine was already started</dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()
          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Stops the state machine. Blocks until the state machine's execution thread has finished processing 
 all pending events.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html#stop--">stop</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/IRoleDeterminationStateMachine.html" title="interface in com.camerontec.catalys.server.ha.roledetermination">IRoleDeterminationStateMachine</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the state machine is already stopped</dd>
</dl>
</li>
</ul>
<a name="onEvent-com.camerontec.catalys.server.ha.cluster.events.GroupEvent-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onEvent</h4>
<pre>public&nbsp;void&nbsp;onEvent(<a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/GroupEvent.html" title="class in com.camerontec.catalys.server.ha.cluster.events">GroupEvent</a>&nbsp;event)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/IEventListener.html#onEvent-T-">IEventListener</a></code></span></div>
<div class="block">Processes the given event.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/IEventListener.html#onEvent-T-">onEvent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/IEventListener.html" title="interface in com.camerontec.catalys.server.ha.cluster.events">IEventListener</a>&lt;<a href="../../../../../../com/camerontec/catalys/server/ha/cluster/events/GroupEvent.html" title="class in com.camerontec.catalys.server.ha.cluster.events">GroupEvent</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - the event to process.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/camerontec/catalys/server/ha/roledetermination/RelinquishingPrimaryActionsFailedException.html" title="class in com.camerontec.catalys.server.ha.roledetermination"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/camerontec/catalys/server/ha/roledetermination/RoleDeterminationStateMachine.html" target="_top">Frames</a></li>
<li><a href="RoleDeterminationStateMachine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</body>
</html>
