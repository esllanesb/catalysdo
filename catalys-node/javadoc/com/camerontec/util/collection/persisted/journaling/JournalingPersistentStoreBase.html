<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Thu Feb 22 15:47:52 CET 2024 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JournalingPersistentStoreBase (Catalys::Doc::Catalys Node 2.2 API)</title>
<meta name="date" content="2024-02-22">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JournalingPersistentStoreBase (Catalys::Doc::Catalys Node 2.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":10,"i2":10,"i3":10,"i4":10,"i5":6,"i6":6,"i7":6,"i8":10,"i9":6,"i10":10,"i11":10,"i12":6,"i13":6,"i14":10,"i15":10,"i16":9,"i17":6,"i18":10,"i19":10,"i20":6,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":6,"i36":6,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.JournalingTask.html" title="enum in com.camerontec.util.collection.persisted.journaling"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html" target="_top">Frames</a></li>
<li><a href="JournalingPersistentStoreBase.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.camerontec.util.collection.persisted.journaling</div>
<h2 title="Class JournalingPersistentStoreBase" class="title">Class JournalingPersistentStoreBase</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreBase</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html" title="interface in com.camerontec.util.collection">IByteArrayStore</a>, <a href="../../../../../../com/camerontec/util/collection/IVersionedSizedStore.html" title="interface in com.camerontec.util.collection">IVersionedSizedStore</a>, <a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html" title="interface in com.camerontec.util.collection.persisted">IPersistentByteArrayStore</a>, <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/ExternallyIndexedJournalingPersistentStore.html" title="class in com.camerontec.util.collection.persisted.journaling">ExternallyIndexedJournalingPersistentStore</a>, <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/HighCapacityIndexedJournalingPersistentStore.html" title="class in com.camerontec.util.collection.persisted.journaling">HighCapacityIndexedJournalingPersistentStore</a>, <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/InMemoryIndexingJournalingPersistentStore.html" title="class in com.camerontec.util.collection.persisted.journaling">InMemoryIndexingJournalingPersistentStore</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">JournalingPersistentStoreBase</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor</a>, <a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html" title="interface in com.camerontec.util.collection.persisted">IPersistentByteArrayStore</a></pre>
<div class="block">Base abstract superclass of store implementations which provided the foundations of persistent journaling stores.
 <br><br>

 Writing performance can be enhanced through buffering, but this comes at the cost of data safety
 when used in non-HA mode. In HA mode, since write requests get replicated at the same time as they are persisted,
 a write request cannot be lost in the event of a crash before the in-memory buffer is flushed to disk.
 Buffering consists in appending data to the buffer and only flushing when the buffer becomes full or a certain
 time has elapsed since the last flush. This is achieved without using a dedicated flushing thread though, which
 means that if writes are very infrequent, a given write request is likely to remain in the buffer for much longer
 than the time limit. If this is likely to be an issue, then buffering should not be used. <br><br>

 Since journal files grow with each write request, they automatically roll over when reaching a given size. <br><br>

 Journaling is only needed in HA mode for the purpose of replaying deltas between two versions of a distributed
 collection when synchronizing. When journaling is turned on, the main assumption which is made is that consecutive 
 writes to the journal have versions that follow each other (i.e. versions with a distance of 1). The following mechanisms 
 are used to service version searches efficiently:
 <ul>
   <li>An in-memory buffer of write request offsets is maintained. This buffer is limited in size for scalability and
       performance reasons. When looking for a particular version, the version of the oldest write request in the buffer 
       is read, then the distance between that version and the version searched for is computed, and if that distance
       happens to be positive then the offset of the write request with the searched version is simply read from the buffer. 
   </li>
   <li>If a searched version cannot be found using the above mechanism, then the journal is scanned until that version
       is located. Although scanning is expensive, it is likely that scanning the journal then replaying only a delta will
       most of the time be more efficient than replaying a full snapshot of the store.  
   </li>
 </ul>
 Since the above mechanisms can only work if versions in the journal are consecutive, version breaks need to be detected.
 For efficiency reasons, this implementation does not analyze the contents of versions passed to it. It simply assumes
 that non empty versions written to the store are always consecutive and that empty versions denote a break in the series.
 When an empty version is encountered:
 <ul>
   <li>The in-memory buffer of write request offsets is cleared.  
   </li>
   <li>The start offset of the journal's zone that can be scanned (i.e. the zone containing consecutive versions) is set 
       to the end of the journal.  
   </li>
 </ul>

 Journal files can be compacted. The compaction process consists in retaining only the write requests
 that are necessary to define the data set contained in the store. For example, assuming a journal file contains
 the following write requests: { SET, "key", "abc", "1.0" } { SET, "key", "def", "1.1" } { SET, "key", "ghi", "1.2" },
 then its compacted form would only contain: { SET, "key", "ghi", "1.1" }. Once compacted, a journal's version
 history is cleared, which means that a synchronization attempt just after a compaction will cause a full snapshot
 of the store to be exchanged. <br><br>
 
 The contract defined by <a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html" title="interface in com.camerontec.util.collection.persisted"><code>IPersistentByteArrayStore</code></a> is refined as follows:
 <ul>
   <li>When performing operation <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.Type.html#COMPACT"><code>IByteArrayStore.WriteRequest.Type.COMPACT</code></a>,
   the <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection"><code>IByteArrayStore.WriteRequest</code></a>'s
       version is ignored, which means that the store always has the same version before and after compaction.
   </li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.JournalingTask.html" title="enum in com.camerontec.util.collection.persisted.journaling">JournalingPersistentStoreBase.JournalingTask</a></span></code>
<div class="block">Journaling maintenance tasks</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.camerontec.util.collection.persisted.journaling.<a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor</a></h3>
<code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.camerontec.util.collection.IByteArrayStore">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.camerontec.util.collection.<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html" title="interface in com.camerontec.util.collection">IByteArrayStore</a></h3>
<code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.IKeyHandler.html" title="interface in com.camerontec.util.collection">IByteArrayStore.IKeyHandler</a>, <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.ReadRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.ReadRequest</a>, <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#compactReusableWriteRequest">compactReusableWriteRequest</a></span></code>
<div class="block">A reusable write request used when doing compact</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#directory">directory</a></span></code>
<div class="block">Directory containing the store's file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreDirectorySwapper</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#directorySwapper">directorySwapper</a></span></code>
<div class="block">Used to swap directories during compaction operations</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#JOURNAL_FILE_NAME_PATTERN">JOURNAL_FILE_NAME_PATTERN</a></span></code>
<div class="block">Regex pattern for journal file names.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#journalEndOffset">journalEndOffset</a></span></code>
<div class="block">The journal's absolute end offset</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#journalFiles">journalFiles</a></span></code>
<div class="block">The list of journal files</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected gnu.trove.list.array.TLongArrayList</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#journalFileStartOffsets">journalFileStartOffsets</a></span></code>
<div class="block">The absolute offset in the journal at which each journal file starts</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/camerontec/util/logger/ILogger.html" title="interface in com.camerontec.util.logger">ILogger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#logger">logger</a></span></code>
<div class="block">Logger</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#properties">properties</a></span></code>
<div class="block">The store's properties</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#readReusableWriteRequest">readReusableWriteRequest</a></span></code>
<div class="block">A reusable write request for reading from the store</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#readVersionReusableWriteRequest">readVersionReusableWriteRequest</a></span></code>
<div class="block">A reusable write request for reading version from the store</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#scanReusableWriteRequest">scanReusableWriteRequest</a></span></code>
<div class="block">A reusable write request used when doing scan</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#searchableZoneStartOffset">searchableZoneStartOffset</a></span></code>
<div class="block">The journal's searchable zone start offset</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#storeVersion">storeVersion</a></span></code>
<div class="block">The store's version</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreUtils.WriteRequestField&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#VALUE_READING_MASK">VALUE_READING_MASK</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected abstract <a href="https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreUtils.WriteRequestField&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#allFieldsReadingMask--">allFieldsReadingMask</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#assertClosed--">assertClosed</a></span>()</code>
<div class="block">Throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> if the store is not currently closed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#assertOpen--">assertOpen</a></span>()</code>
<div class="block">Throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> if the store is not currently open.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#close--">close</a></span>()</code>
<div class="block">Relinquishes the resources currently used to interact with the file-system.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#close-boolean-">close</a></span>(boolean&nbsp;interrupt)</code>
<div class="block">Closes the store if needed.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected abstract com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreAppender</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#createAppender--">createAppender</a></span>()</code>
<div class="block">Creates an appender to use for writing to the journal.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected abstract com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreReader</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#createReader-java.io.File-int-">createReader</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;journalFile,
            int&nbsp;bufferSize)</code>
<div class="block">Creates a reader for the given journal file.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html" title="class in com.camerontec.util.collection.persisted.journaling">JournalingPersistentStoreBase</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#createTemporaryStore-java.io.File-">createTemporaryStore</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destinationDirectory)</code>
<div class="block">Creates a temporary store used for compacting this store.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#delete--">delete</a></span>()</code>
<div class="block">Delete the underlying files used by the store.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#doIterate-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">doIterate</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
         <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)</code>
<div class="block">Same as <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#iterate-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-"><code>iterate(com.camerontec.util.collection.IByteArrayStore.WriteRequest, com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler)</code></a> but available during compaction.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#findVersionInHistory-com.camerontec.util.data.BytesSegment-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-">findVersionInHistory</a></span>(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version,
                    <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;versionInHistory,
                    <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling">IVersionComparator</a>&nbsp;comparator)</code>
<div class="block">Searches for a write request in the journal's history with the given version.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#flushToDisk--">flushToDisk</a></span>()</code>
<div class="block">Flush the store to the underlying disk.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#getSize--">getSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#index-com.camerontec.util.collection.IByteArrayStore.WriteRequest-long-int-">index</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
     long&nbsp;offset,
     int&nbsp;length)</code>
<div class="block">Updates the store's index when writing.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#inspectDirectory--">inspectDirectory</a></span>()</code>
<div class="block">Inspects the contents of this store's directory, looking for journal files, and checks that all expected files are present.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#iterate-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">iterate</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
       <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)</code>
<div class="block">Iterates over the indices/keys and values in the store, using the given write request as the destination of the iteration.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#journalingPersistentStoreName-java.lang.Class-java.io.File-java.util.Properties-">journalingPersistentStoreName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html" title="class in com.camerontec.util.collection.persisted.journaling">JournalingPersistentStoreBase</a>&gt;&nbsp;storeClass,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;directory,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties)</code>
<div class="block">Given a store's class, directory and properties, computes a name uniquely identifying that store.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#length-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">length</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest)</code>
<div class="block">Computes the serialized length of the given write request.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#loadOrCreateStore--">loadOrCreateStore</a></span>()</code>
<div class="block">Loads the store from disk or creates a new empty one if needed.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#locate-long-">locate</a></span>(long&nbsp;offset)</code>
<div class="block">Locates the given absolute journal offset in one of the journal files.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected abstract long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#offset-int-com.camerontec.util.data.BytesSegment-">offset</a></span>(int&nbsp;index,
      <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;key)</code>
<div class="block">Returns the offset in the store's journal of the write request with the given index or key.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreReader</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#randomAccessReader-int-">randomAccessReader</a></span>(int&nbsp;i)</code>
<div class="block">Returns or creates a reader for the ith journal file, to be used for random access.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-">read</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.ReadRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.ReadRequest</a>&nbsp;readRequest,
    <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;segment)</code>
<div class="block">Submit a read request to the store.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-boolean-">read</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.ReadRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.ReadRequest</a>&nbsp;readRequest,
    <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;target,
    boolean&nbsp;isRandomAccess)</code>
<div class="block">Submit a read request to the store.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#read-com.camerontec.util.collection.IByteArrayStore.WriteRequest-long-java.util.EnumSet-boolean-">read</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
    long&nbsp;offsetInJournal,
    <a href="https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreUtils.WriteRequestField&gt;&nbsp;fieldMask,
    boolean&nbsp;isRandomAccess)</code>
<div class="block">Reads the write request at the given offset in the journal.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#recoverFromFileCorruption-int-com.camerontec.util.collection.persisted.FileCorruptedException-">recoverFromFileCorruption</a></span>(int&nbsp;lastJournalFileIndex,
                         <a href="../../../../../../com/camerontec/util/collection/persisted/FileCorruptedException.html" title="class in com.camerontec.util.collection.persisted">FileCorruptedException</a>&nbsp;e)</code>
<div class="block">Recreates the store if it has been determined that there has been file corruption.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#refresh--">refresh</a></span>()</code>
<div class="block">Reload the contents of the store from disk.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#scanJournal--">scanJournal</a></span>()</code>
<div class="block">Scans the journal in order to rebuild the version history offset series, to index write requests and to
 prime the store's version and size.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#scanned-com.camerontec.util.collection.IByteArrayStore.WriteRequest-long-int-">scanned</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
       long&nbsp;offset,
       int&nbsp;length)</code>
<div class="block">Called for each write request read from the journal when scanning.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>protected com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreReader</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#scanningReader-int-">scanningReader</a></span>(int&nbsp;i)</code>
<div class="block">Returns or creates a reader for the ith journal file, to be used for scanning.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#searchableZoneStartOffset--">searchableZoneStartOffset</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#size--">size</a></span>()</code>
<div class="block">Return the number of elements in the store.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#updateVersionHistory-long-int-com.camerontec.util.data.BytesSegment-">updateVersionHistory</a></span>(long&nbsp;writeRequestOffset,
                    int&nbsp;writeRequestLength,
                    <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;writeRequestVersion)</code>
<div class="block">Updates the store's version history.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#updateWriteRequestIndexInAppendContext-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">updateWriteRequestIndexInAppendContext</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest)</code>
<div class="block">Implementation hook for concrete stores which support append semantics.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#updateWriteRequestIndexWithCurrentSizeInAppendContext-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">updateWriteRequestIndexWithCurrentSizeInAppendContext</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest)</code>
<div class="block">Update the index field for the specified write request with the current store size if in append context.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#validateRead-com.camerontec.util.collection.IByteArrayStore.ReadRequest-">validateRead</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.ReadRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.ReadRequest</a>&nbsp;request)</code>
<div class="block">Validates a read in the store.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#validateWrite-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">validateWrite</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;request)</code>
<div class="block">Validates a write to the store.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#version-com.camerontec.util.data.BytesSegment-">version</a></span>(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;segment)</code>
<div class="block">Reads the version of the store into the given bytes segment.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#versionHistoryStartOffset--">versionHistoryStartOffset</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#write-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">write</a></span>(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest)</code>
<div class="block">Submit a write request to the store.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#writeRequestsAfter-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">writeRequestsAfter</a></span>(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version,
                  <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling">IVersionComparator</a>&nbsp;comparator,
                  <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                  <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)</code>
<div class="block">Iterates over the write requests contained in the journal that are located after (and excluding) the write request
 with the given version.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#writeRequestsBefore-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">writeRequestsBefore</a></span>(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version,
                   <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling">IVersionComparator</a>&nbsp;comparator,
                   <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                   <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)</code>
<div class="block">Iterates over the write requests contained in the journal that are located before (and including) the write
 request with the given version.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#writeRequestsBetween-com.camerontec.util.data.BytesSegment-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">writeRequestsBetween</a></span>(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version1,
                    <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version2,
                    <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling">IVersionComparator</a>&nbsp;comparator,
                    <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                    <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)</code>
<div class="block">Iterates over the write requests contained in the journal that are located after (and excluding) the write
 requests with the lowest version and before (and including) the write request with the highest version.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.camerontec.util.collection.IByteArrayStore">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.camerontec.util.collection.<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html" title="interface in com.camerontec.util.collection">IByteArrayStore</a></h3>
<code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html#keys-com.camerontec.util.collection.IByteArrayStore.IKeyHandler-">keys</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/camerontec/util/logger/ILogger.html" title="interface in com.camerontec.util.logger">ILogger</a> logger</pre>
<div class="block">Logger</div>
</li>
</ul>
<a name="directorySwapper">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>directorySwapper</h4>
<pre>protected final&nbsp;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreDirectorySwapper directorySwapper</pre>
<div class="block">Used to swap directories during compaction operations</div>
</li>
</ul>
<a name="directory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>directory</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a> directory</pre>
<div class="block">Directory containing the store's file</div>
</li>
</ul>
<a name="storeVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeVersion</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a> storeVersion</pre>
<div class="block">The store's version</div>
</li>
</ul>
<a name="properties">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>properties</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a> properties</pre>
<div class="block">The store's properties</div>
</li>
</ul>
<a name="readReusableWriteRequest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readReusableWriteRequest</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a> readReusableWriteRequest</pre>
<div class="block">A reusable write request for reading from the store</div>
</li>
</ul>
<a name="readVersionReusableWriteRequest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readVersionReusableWriteRequest</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a> readVersionReusableWriteRequest</pre>
<div class="block">A reusable write request for reading version from the store</div>
</li>
</ul>
<a name="compactReusableWriteRequest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compactReusableWriteRequest</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a> compactReusableWriteRequest</pre>
<div class="block">A reusable write request used when doing compact</div>
</li>
</ul>
<a name="scanReusableWriteRequest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanReusableWriteRequest</h4>
<pre>protected final&nbsp;<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a> scanReusableWriteRequest</pre>
<div class="block">A reusable write request used when doing scan</div>
</li>
</ul>
<a name="journalEndOffset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journalEndOffset</h4>
<pre>protected&nbsp;long journalEndOffset</pre>
<div class="block">The journal's absolute end offset</div>
</li>
</ul>
<a name="searchableZoneStartOffset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchableZoneStartOffset</h4>
<pre>protected&nbsp;long searchableZoneStartOffset</pre>
<div class="block">The journal's searchable zone start offset</div>
</li>
</ul>
<a name="journalFileStartOffsets">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journalFileStartOffsets</h4>
<pre>protected&nbsp;gnu.trove.list.array.TLongArrayList journalFileStartOffsets</pre>
<div class="block">The absolute offset in the journal at which each journal file starts</div>
</li>
</ul>
<a name="journalFiles">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journalFiles</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&gt; journalFiles</pre>
<div class="block">The list of journal files</div>
</li>
</ul>
<a name="JOURNAL_FILE_NAME_PATTERN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JOURNAL_FILE_NAME_PATTERN</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a> JOURNAL_FILE_NAME_PATTERN</pre>
<div class="block">Regex pattern for journal file names.</div>
</li>
</ul>
<a name="VALUE_READING_MASK">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VALUE_READING_MASK</h4>
<pre>protected static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreUtils.WriteRequestField&gt; VALUE_READING_MASK</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public final&nbsp;int&nbsp;size()</pre>
<div class="block">Return the number of elements in the store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/IVersionedSizedStore.html#size--">size</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/IVersionedSizedStore.html" title="interface in com.camerontec.util.collection">IVersionedSizedStore</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of elements in the store.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/camerontec/util/collection/IVersionedSizedStore.html#size--"><code>IVersionedSizedStore.size()</code></a></dd>
</dl>
</li>
</ul>
<a name="version-com.camerontec.util.data.BytesSegment-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>version</h4>
<pre>public final&nbsp;int&nbsp;version(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;segment)</pre>
<div class="block">Reads the version of the store into the given bytes segment.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/IVersionedSizedStore.html#version-com.camerontec.util.data.BytesSegment-">version</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/IVersionedSizedStore.html" title="interface in com.camerontec.util.collection">IVersionedSizedStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>segment</code> - the bytes segment to read into, starting at offset 0 (which means that any pre-existing data in the
          segment is not preserved)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the version length in bytes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
</dl>
</li>
</ul>
<a name="read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public final&nbsp;int&nbsp;read(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.ReadRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.ReadRequest</a>&nbsp;readRequest,
                      <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;segment)
               throws <a href="../../../../../../com/camerontec/util/collection/persisted/FileCorruptedException.html" title="class in com.camerontec.util.collection.persisted">FileCorruptedException</a>,
                      <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a>,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Submit a read request to the store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html#read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html" title="interface in com.camerontec.util.collection">IByteArrayStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>readRequest</code> - The read request.</dd>
<dd><code>segment</code> - the bytes segment to read into, starting at offset 0 (which means that any pre-existing data in the
        segment is not preserved)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The value length in bytes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/FileCorruptedException.html" title="class in com.camerontec.util.collection.persisted">FileCorruptedException</a></code> - if the given file appears to be corrupted</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></code> - wraps any I/O exception that may occur when reading from the file</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html#read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-"><code>IByteArrayStore.read(ReadRequest, BytesSegment)</code></a></dd>
</dl>
</li>
</ul>
<a name="read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public final&nbsp;int&nbsp;read(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.ReadRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.ReadRequest</a>&nbsp;readRequest,
                      <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;target,
                      boolean&nbsp;isRandomAccess)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html#read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-boolean-">IByteArrayStore</a></code></span></div>
<div class="block">Submit a read request to the store. This is a lower-level variant of <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html#read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-"><code>IByteArrayStore.read(ReadRequest, BytesSegment)</code></a> allowing clients to
 specify whether this request is performed as a random-access operation or is part of a traversal of the collection, in which case
 the store implementation may be able to perform some optimizations (like caching I/O operations for example).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html#read-com.camerontec.util.collection.IByteArrayStore.ReadRequest-com.camerontec.util.data.BytesSegment-boolean-">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html" title="interface in com.camerontec.util.collection">IByteArrayStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>readRequest</code> - The read request.</dd>
<dd><code>target</code> - the bytes segment to read into.</dd>
<dd><code>isRandomAccess</code> - <code>true</code> if this is a random-access read, <code>false</code> if this is a traversal read.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The value length in bytes.</dd>
</dl>
</li>
</ul>
<a name="write-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public final&nbsp;void&nbsp;write(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest)
                 throws <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceOperationInterruptedException.html" title="class in com.camerontec.util.collection.persisted">PersistenceOperationInterruptedException</a>,
                        <a href="../../../../../../com/camerontec/util/collection/persisted/UnsupportedPersistenceOperationException.html" title="class in com.camerontec.util.collection.persisted">UnsupportedPersistenceOperationException</a>,
                        <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a>,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Submit a write request to the store.
 <p>
 In this context a write request is any request which seeks to modify the contents of the store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html#write-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html" title="interface in com.camerontec.util.collection">IByteArrayStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - The write request.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></code> - wraps any I/O exception that may occur when interacting with the file-system</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceOperationInterruptedException.html" title="class in com.camerontec.util.collection.persisted">PersistenceOperationInterruptedException</a></code></dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/UnsupportedPersistenceOperationException.html" title="class in com.camerontec.util.collection.persisted">UnsupportedPersistenceOperationException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.html#write-com.camerontec.util.collection.IByteArrayStore.WriteRequest-"><code>IByteArrayStore.write(com.camerontec.util.collection.IByteArrayStore.WriteRequest)</code></a></dd>
</dl>
</li>
</ul>
<a name="flushToDisk--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushToDisk</h4>
<pre>public final&nbsp;void&nbsp;flushToDisk()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html#flushToDisk--">IPersistentByteArrayStore</a></code></span></div>
<div class="block">Flush the store to the underlying disk.
 <p>
 On successful return the contents of the store are guaranteed to be synchronized with the underlying disk.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html#flushToDisk--">flushToDisk</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html" title="interface in com.camerontec.util.collection.persisted">IPersistentByteArrayStore</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></code> - wraps any I/O exception that may occur when interacting with the file-system</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html#flushToDisk--"><code>IPersistentByteArrayStore.flushToDisk()</code></a></dd>
</dl>
</li>
</ul>
<a name="findVersionInHistory-com.camerontec.util.data.BytesSegment-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findVersionInHistory</h4>
<pre>public final&nbsp;boolean&nbsp;findVersionInHistory(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version,
                                          <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;versionInHistory,
                                          <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling">IVersionComparator</a>&nbsp;comparator)
                                   throws <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/VersionComparisonException.html" title="class in com.camerontec.util.collection.persisted.journaling">VersionComparisonException</a></pre>
<div class="block">Searches for a write request in the journal's history with the given version.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html#findVersionInHistory-com.camerontec.util.data.BytesSegment-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-">findVersionInHistory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - a version to search for</dd>
<dd><code>versionInHistory</code> - if the searched version is found in history, this <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data"><code>BytesSegment</code></a>, if not <code>null</code>, will wrap
                         the local version's bytes. If the searched version is not found in history, or if this <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data"><code>BytesSegment</code></a>
                         is <code>null</code>, it is ignored.</dd>
<dd><code>comparator</code> - comparator to use in search</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> iff. this journal contains a write request with the given version</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/VersionComparisonException.html" title="class in com.camerontec.util.collection.persisted.journaling">VersionComparisonException</a></code> - if <i>comparator</i> is unable to compare these versions</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
</dl>
</li>
</ul>
<a name="writeRequestsAfter-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRequestsAfter</h4>
<pre>public final&nbsp;void&nbsp;writeRequestsAfter(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version,
                                     <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling">IVersionComparator</a>&nbsp;comparator,
                                     <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                                     <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)
                              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
                                     <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/VersionComparisonException.html" title="class in com.camerontec.util.collection.persisted.journaling">VersionComparisonException</a></pre>
<div class="block">Iterates over the write requests contained in the journal that are located after (and excluding) the write request
 with the given version.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html#writeRequestsAfter-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">writeRequestsAfter</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - a write request's version</dd>
<dd><code>comparator</code> - comparator to use in search</dd>
<dd><code>writeRequest</code> - the destination write request used during the iteration</dd>
<dd><code>handler</code> - the iteration handler</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the journal does not contain a write request with the given version</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/VersionComparisonException.html" title="class in com.camerontec.util.collection.persisted.journaling">VersionComparisonException</a></code> - if <i>comparator</i> is unable to compare these versions</dd>
</dl>
</li>
</ul>
<a name="writeRequestsBefore-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRequestsBefore</h4>
<pre>public final&nbsp;void&nbsp;writeRequestsBefore(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version,
                                      <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling">IVersionComparator</a>&nbsp;comparator,
                                      <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                                      <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)
                               throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
                                      <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/VersionComparisonException.html" title="class in com.camerontec.util.collection.persisted.journaling">VersionComparisonException</a></pre>
<div class="block">Iterates over the write requests contained in the journal that are located before (and including) the write
 request with the given version.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html#writeRequestsBefore-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">writeRequestsBefore</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - a write request's version</dd>
<dd><code>comparator</code> - comparator to use in search</dd>
<dd><code>writeRequest</code> - the destination write request used during the iteration</dd>
<dd><code>handler</code> - the iteration handler</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the journal does not contain a write request with the given version</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/VersionComparisonException.html" title="class in com.camerontec.util.collection.persisted.journaling">VersionComparisonException</a></code> - if <i>comparator</i> is unable to compare these versions</dd>
</dl>
</li>
</ul>
<a name="writeRequestsBetween-com.camerontec.util.data.BytesSegment-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRequestsBetween</h4>
<pre>public final&nbsp;void&nbsp;writeRequestsBetween(<a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version1,
                                       <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;version2,
                                       <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling">IVersionComparator</a>&nbsp;comparator,
                                       <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                                       <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)
                                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
                                       <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/VersionComparisonException.html" title="class in com.camerontec.util.collection.persisted.journaling">VersionComparisonException</a></pre>
<div class="block">Iterates over the write requests contained in the journal that are located after (and excluding) the write
 requests with the lowest version and before (and including) the write request with the highest version. 
 This method is not sensitive to the relative ordering of the given versions, i.e. they may be passed in any order.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html#writeRequestsBetween-com.camerontec.util.data.BytesSegment-com.camerontec.util.data.BytesSegment-com.camerontec.util.collection.persisted.journaling.IVersionComparator-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">writeRequestsBetween</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version1</code> - a write request's version</dd>
<dd><code>version2</code> - a write request's version</dd>
<dd><code>comparator</code> - comparator to use in search</dd>
<dd><code>writeRequest</code> - the destination write request used during the iteration</dd>
<dd><code>handler</code> - the iteration handler</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if, for any of the given versions, the journal does not contain a write request with that version</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/VersionComparisonException.html" title="class in com.camerontec.util.collection.persisted.journaling">VersionComparisonException</a></code> - if <i>comparator</i> is unable to compare these versions</dd>
</dl>
</li>
</ul>
<a name="iterate-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterate</h4>
<pre>public final&nbsp;void&nbsp;iterate(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                          <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)</pre>
<div class="block">Iterates over the indices/keys and values in the store, using the given write request as the destination of the iteration. 
 The order of the iteration is implementation dependent, i.e. it does not necessarily follow the order of the journal. 
 Callers should not expect this method to populate the destination write request's version when iterating.
 Callers can expect this method to populate the destination write request's type with 
 <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.Type.html#SET"><code>IByteArrayStore.WriteRequest.Type.SET</code></a> when iterating.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html#iterate-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">iterate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - the destination write request used during the iteration</dd>
<dd><code>handler</code> - the iteration handler</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is already closed</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public final&nbsp;void&nbsp;close()
                 throws <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></pre>
<div class="block">Relinquishes the resources currently used to interact with the file-system. Invoking this method on an already
 closed store has no effect.

 No further method may be invoked on this store after closing it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html" title="interface in com.camerontec.util.collection.persisted">IPersistentByteArrayStore</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true#close--" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></code> - reports any I/O error that may occur when interacting with the file-system</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true#close--" title="class or interface in java.io"><code>Closeable.close()</code></a></dd>
</dl>
</li>
</ul>
<a name="refresh--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>public final&nbsp;void&nbsp;refresh()
                   throws <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></pre>
<div class="block">Reload the contents of the store from disk.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html#refresh--">refresh</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html" title="interface in com.camerontec.util.collection.persisted">IPersistentByteArrayStore</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></code> - reports any I/O error that may occur when interacting with the file-system</dd>
</dl>
</li>
</ul>
<a name="delete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public final&nbsp;void&nbsp;delete()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html#delete--">IPersistentByteArrayStore</a></code></span></div>
<div class="block">Delete the underlying files used by the store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html#delete--">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html" title="interface in com.camerontec.util.collection.persisted">IPersistentByteArrayStore</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the store is not closed</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/camerontec/util/collection/persisted/IPersistentByteArrayStore.html#delete--"><code>IPersistentByteArrayStore.delete()</code></a></dd>
</dl>
</li>
</ul>
<a name="journalingPersistentStoreName-java.lang.Class-java.io.File-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journalingPersistentStoreName</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;journalingPersistentStoreName(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html" title="class in com.camerontec.util.collection.persisted.journaling">JournalingPersistentStoreBase</a>&gt;&nbsp;storeClass,
                                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;directory,
                                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;properties)</pre>
<div class="block">Given a store's class, directory and properties, computes a name uniquely identifying that store.
 This name can serve as a logger name or as a component in a JMX object name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storeClass</code> - A store's class.</dd>
<dd><code>directory</code> - A store's directory.</dd>
<dd><code>properties</code> - A store's properties.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The store's name.</dd>
</dl>
</li>
</ul>
<a name="createTemporaryStore-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTemporaryStore</h4>
<pre>protected abstract&nbsp;<a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html" title="class in com.camerontec.util.collection.persisted.journaling">JournalingPersistentStoreBase</a>&nbsp;createTemporaryStore(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destinationDirectory)</pre>
<div class="block">Creates a temporary store used for compacting this store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destinationDirectory</code> - the directory in which this temporary store should be created</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new store to which data contained in this store should be written as part of the compaction process</dd>
</dl>
</li>
</ul>
<a name="validateRead-com.camerontec.util.collection.IByteArrayStore.ReadRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateRead</h4>
<pre>protected abstract&nbsp;void&nbsp;validateRead(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.ReadRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.ReadRequest</a>&nbsp;request)
                              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></pre>
<div class="block">Validates a read in the store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the read request with key or index</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - denotes an improper use of the store</dd>
</dl>
</li>
</ul>
<a name="offset-int-com.camerontec.util.data.BytesSegment-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offset</h4>
<pre>protected abstract&nbsp;long&nbsp;offset(int&nbsp;index,
                               <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;key)</pre>
<div class="block">Returns the offset in the store's journal of the write request with the given index or key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index in a read request</dd>
<dd><code>key</code> - the key in a read request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the offset in the store's journal of the write request with that index or key</dd>
</dl>
</li>
</ul>
<a name="validateWrite-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateWrite</h4>
<pre>protected abstract&nbsp;void&nbsp;validateWrite(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;request)
                               throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
                                      <a href="../../../../../../com/camerontec/util/collection/persisted/UnsupportedPersistenceOperationException.html" title="class in com.camerontec.util.collection.persisted">UnsupportedPersistenceOperationException</a></pre>
<div class="block">Validates a write to the store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the write request</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - denotes an improper use of the store</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/UnsupportedPersistenceOperationException.html" title="class in com.camerontec.util.collection.persisted">UnsupportedPersistenceOperationException</a></code> - reports an unsupported operation</dd>
</dl>
</li>
</ul>
<a name="index-com.camerontec.util.collection.IByteArrayStore.WriteRequest-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>index</h4>
<pre>protected abstract&nbsp;void&nbsp;index(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                              long&nbsp;offset,
                              int&nbsp;length)</pre>
<div class="block">Updates the store's index when writing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - the write request</dd>
<dd><code>offset</code> - the write request's offset</dd>
<dd><code>length</code> - the write request's on-disk length</dd>
</dl>
</li>
</ul>
<a name="getSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>protected abstract&nbsp;int&nbsp;getSize()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the store's size</dd>
</dl>
</li>
</ul>
<a name="createReader-java.io.File-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createReader</h4>
<pre>protected abstract&nbsp;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreReader&nbsp;createReader(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;journalFile,
                                                                                                                    int&nbsp;bufferSize)</pre>
<div class="block">Creates a reader for the given journal file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>journalFile</code> - the journal file for which to create a reader</dd>
<dd><code>bufferSize</code> - the reading buffer size to use</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an instance of the <code>JournalingPersistentStoreReader</code> subclass to use for reading from the journal.</dd>
</dl>
</li>
</ul>
<a name="createAppender--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createAppender</h4>
<pre>protected abstract&nbsp;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreAppender&nbsp;createAppender()</pre>
<div class="block">Creates an appender to use for writing to the journal.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an instance of the <code>JournalingPersistentStoreAppender</code> subclass to use for writing to the journal.</dd>
</dl>
</li>
</ul>
<a name="length-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>length</h4>
<pre>protected abstract&nbsp;int&nbsp;length(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest)</pre>
<div class="block">Computes the serialized length of the given write request.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - a write request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the write request's serialized length</dd>
</dl>
</li>
</ul>
<a name="doIterate-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doIterate</h4>
<pre>protected abstract&nbsp;void&nbsp;doIterate(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                                  <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IJournalingStoreAccessor.IWriteRequestHandler.html" title="interface in com.camerontec.util.collection.persisted.journaling">IJournalingStoreAccessor.IWriteRequestHandler</a>&nbsp;handler)</pre>
<div class="block">Same as <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#iterate-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-"><code>iterate(com.camerontec.util.collection.IByteArrayStore.WriteRequest, com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler)</code></a> but available during compaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - the destination write request used during the iteration</dd>
<dd><code>handler</code> - the iteration handler</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#iterate-com.camerontec.util.collection.IByteArrayStore.WriteRequest-com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler-"><code>iterate(com.camerontec.util.collection.IByteArrayStore.WriteRequest, com.camerontec.util.collection.persisted.journaling.IJournalingStoreAccessor.IWriteRequestHandler)</code></a></dd>
</dl>
</li>
</ul>
<a name="allFieldsReadingMask--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allFieldsReadingMask</h4>
<pre>protected abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreUtils.WriteRequestField&gt;&nbsp;allFieldsReadingMask()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the reading mask to use for reading all the fields in a write request.</dd>
</dl>
</li>
</ul>
<a name="updateWriteRequestIndexWithCurrentSizeInAppendContext-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateWriteRequestIndexWithCurrentSizeInAppendContext</h4>
<pre>protected final&nbsp;void&nbsp;updateWriteRequestIndexWithCurrentSizeInAppendContext(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest)</pre>
<div class="block">Update the index field for the specified write request with the current store size if in append context.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - The write request to be updated.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#updateWriteRequestIndexInAppendContext-com.camerontec.util.collection.IByteArrayStore.WriteRequest-"><code>updateWriteRequestIndexInAppendContext(com.camerontec.util.collection.IByteArrayStore.WriteRequest)</code></a></dd>
</dl>
</li>
</ul>
<a name="loadOrCreateStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadOrCreateStore</h4>
<pre>protected final&nbsp;void&nbsp;loadOrCreateStore()
                                throws <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a>,
                                       <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/MissingJournalFileException.html" title="class in com.camerontec.util.collection.persisted.journaling">MissingJournalFileException</a>,
                                       <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceConfigurationException.html" title="class in com.camerontec.util.collection.persisted">PersistenceConfigurationException</a></pre>
<div class="block">Loads the store from disk or creates a new empty one if needed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></code> - reports any I/O error that may occur when interacting with the file-system</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/MissingJournalFileException.html" title="class in com.camerontec.util.collection.persisted.journaling">MissingJournalFileException</a></code> - if a journal file appears to be missing when loading an existing store</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceConfigurationException.html" title="class in com.camerontec.util.collection.persisted">PersistenceConfigurationException</a></code> - if an invalid configuration property is encountered</dd>
</dl>
</li>
</ul>
<a name="randomAccessReader-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>randomAccessReader</h4>
<pre>protected final&nbsp;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreReader&nbsp;randomAccessReader(int&nbsp;i)</pre>
<div class="block">Returns or creates a reader for the ith journal file, to be used for random access.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - the journal file's position</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the reader for this journal file</dd>
</dl>
</li>
</ul>
<a name="scanningReader-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanningReader</h4>
<pre>protected final&nbsp;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreReader&nbsp;scanningReader(int&nbsp;i)</pre>
<div class="block">Returns or creates a reader for the ith journal file, to be used for scanning.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - the journal file's position</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the reader for this journal file</dd>
</dl>
</li>
</ul>
<a name="updateVersionHistory-long-int-com.camerontec.util.data.BytesSegment-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateVersionHistory</h4>
<pre>protected final&nbsp;void&nbsp;updateVersionHistory(long&nbsp;writeRequestOffset,
                                          int&nbsp;writeRequestLength,
                                          <a href="../../../../../../com/camerontec/util/data/BytesSegment.html" title="class in com.camerontec.util.data">BytesSegment</a>&nbsp;writeRequestVersion)</pre>
<div class="block">Updates the store's version history. If the given write request version is non empty,
 stores the write request's offset in the version history offset series. Otherwise, clears the
 version history offset series and resets the journal's searchable zone's start offset to the
 end of the journal.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequestOffset</code> - the write request's offset in the journal</dd>
<dd><code>writeRequestLength</code> - the write request's length</dd>
<dd><code>writeRequestVersion</code> - the write request's version</dd>
</dl>
</li>
</ul>
<a name="versionHistoryStartOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>versionHistoryStartOffset</h4>
<pre>protected final&nbsp;long&nbsp;versionHistoryStartOffset()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the first offset in the version history offset series</dd>
</dl>
</li>
</ul>
<a name="searchableZoneStartOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchableZoneStartOffset</h4>
<pre>protected final&nbsp;long&nbsp;searchableZoneStartOffset()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the start offset of the journal's searchable zone (i.e. the zone containing consecutive versions)</dd>
</dl>
</li>
</ul>
<a name="read-com.camerontec.util.collection.IByteArrayStore.WriteRequest-long-java.util.EnumSet-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>protected final&nbsp;int&nbsp;read(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                         long&nbsp;offsetInJournal,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;com.camerontec.util.collection.persisted.journaling.JournalingPersistentStoreUtils.WriteRequestField&gt;&nbsp;fieldMask,
                         boolean&nbsp;isRandomAccess)
                  throws <a href="../../../../../../com/camerontec/util/collection/persisted/FileCorruptedException.html" title="class in com.camerontec.util.collection.persisted">FileCorruptedException</a>,
                         <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></pre>
<div class="block">Reads the write request at the given offset in the journal.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - the destination write request</dd>
<dd><code>offsetInJournal</code> - the offset of the write request to read</dd>
<dd><code>fieldMask</code> - a mask describing the write request fields that should be read. Other fields will be
    skipped, which can significantly decrease the reading time</dd>
<dd><code>isRandomAccess</code> - <code>true</code> if this is a random-access read, <code>false</code> if this is a traversal read.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of bytes read</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/FileCorruptedException.html" title="class in com.camerontec.util.collection.persisted">FileCorruptedException</a></code> - if the given file appears to be corrupted</dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></code> - wraps any I/O exception that may occur when reading from the journal</dd>
</dl>
</li>
</ul>
<a name="locate-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locate</h4>
<pre>protected final&nbsp;int&nbsp;locate(long&nbsp;offset)</pre>
<div class="block">Locates the given absolute journal offset in one of the journal files.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>offset</code> - the offset to locate</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the index of the journal file containing that offset</dd>
</dl>
</li>
</ul>
<a name="assertOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertOpen</h4>
<pre>protected final&nbsp;void&nbsp;assertOpen()
                         throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> if the store is not currently open.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the journal is not currently open</dd>
</dl>
</li>
</ul>
<a name="assertClosed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertClosed</h4>
<pre>protected final&nbsp;void&nbsp;assertClosed()
                           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> if the store is not currently closed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the journal is not currently closed</dd>
</dl>
</li>
</ul>
<a name="scanJournal--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanJournal</h4>
<pre>protected&nbsp;void&nbsp;scanJournal()
                    throws <a href="../../../../../../com/camerontec/util/collection/persisted/FileCorruptedException.html" title="class in com.camerontec.util.collection.persisted">FileCorruptedException</a></pre>
<div class="block">Scans the journal in order to rebuild the version history offset series, to index write requests and to
 prime the store's version and size.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/FileCorruptedException.html" title="class in com.camerontec.util.collection.persisted">FileCorruptedException</a></code> - if the journal appears to be corrupted</dd>
</dl>
</li>
</ul>
<a name="updateWriteRequestIndexInAppendContext-com.camerontec.util.collection.IByteArrayStore.WriteRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateWriteRequestIndexInAppendContext</h4>
<pre>protected&nbsp;void&nbsp;updateWriteRequestIndexInAppendContext(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest)</pre>
<div class="block">Implementation hook for concrete stores which support append semantics.
 <p>
 There is no explicit <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html#type"><code>IByteArrayStore.WriteRequest.type</code></a> specifying that a value should 
 be appended to a store. Rather, sequential stores which support append context do so via a combination of 
 <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.Type.html#SET"><code>IByteArrayStore.WriteRequest.Type.SET</code></a> and a negative index. This is effectively a short 
 cut for the caller as it does not need to query the current store size first, which is better done at the level of the store 
 itself since then single threaded context may be assumed.
 <p>
 Sequential stores which support append context are therefore required to provide an implementation of this method
 which rewrites the <a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html#index"><code>IByteArrayStore.WriteRequest.index</code></a> field of the specified <code>writeRequest</code> 
 with the current store size. The convenience method 
 <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html#updateWriteRequestIndexWithCurrentSizeInAppendContext-com.camerontec.util.collection.IByteArrayStore.WriteRequest-"><code>updateWriteRequestIndexWithCurrentSizeInAppendContext(com.camerontec.util.collection.IByteArrayStore.WriteRequest)</code></a> 
 is provided for this purpose.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - The write request to be rewritten.</dd>
</dl>
</li>
</ul>
<a name="inspectDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inspectDirectory</h4>
<pre>protected&nbsp;void&nbsp;inspectDirectory()
                         throws <a href="../../../../../../com/camerontec/util/collection/persisted/journaling/MissingJournalFileException.html" title="class in com.camerontec.util.collection.persisted.journaling">MissingJournalFileException</a>,
                                <a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></pre>
<div class="block">Inspects the contents of this store's directory, looking for journal files, and checks that all expected files are present.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/PersistenceIOException.html" title="class in com.camerontec.util.collection.persisted">PersistenceIOException</a></code> - <ul>
      <li>if the directory containing the store's data files is not writable</li>
      <li>if current journal file is not writable</li>
    </ul></dd>
<dd><code><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/MissingJournalFileException.html" title="class in com.camerontec.util.collection.persisted.journaling">MissingJournalFileException</a></code> - if a journal file appears to be missing</dd>
</dl>
</li>
</ul>
<a name="close-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>protected&nbsp;boolean&nbsp;close(boolean&nbsp;interrupt)</pre>
<div class="block">Closes the store if needed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>interrupt</code> - whether or not any task that the store is in the middle of performing should be interrupted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> iff. the store was open</dd>
</dl>
</li>
</ul>
<a name="recoverFromFileCorruption-int-com.camerontec.util.collection.persisted.FileCorruptedException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverFromFileCorruption</h4>
<pre>protected&nbsp;void&nbsp;recoverFromFileCorruption(int&nbsp;lastJournalFileIndex,
                                         <a href="../../../../../../com/camerontec/util/collection/persisted/FileCorruptedException.html" title="class in com.camerontec.util.collection.persisted">FileCorruptedException</a>&nbsp;e)</pre>
<div class="block">Recreates the store if it has been determined that there has been file corruption.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lastJournalFileIndex</code> - the index of the last journal file</dd>
<dd><code>e</code> - the exception caught when scanning the journal</dd>
</dl>
</li>
</ul>
<a name="scanned-com.camerontec.util.collection.IByteArrayStore.WriteRequest-long-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>scanned</h4>
<pre>protected&nbsp;void&nbsp;scanned(<a href="../../../../../../com/camerontec/util/collection/IByteArrayStore.WriteRequest.html" title="class in com.camerontec.util.collection">IByteArrayStore.WriteRequest</a>&nbsp;writeRequest,
                       long&nbsp;offset,
                       int&nbsp;length)</pre>
<div class="block">Called for each write request read from the journal when scanning. Default implementation indexes the given write request
 and updates the cache, if we happen to have one.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeRequest</code> - the write request that was read from the journal</dd>
<dd><code>offset</code> - the write request's offset</dd>
<dd><code>length</code> - the write request's on-disk length</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/IVersionComparator.html" title="interface in com.camerontec.util.collection.persisted.journaling"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.JournalingTask.html" title="enum in com.camerontec.util.collection.persisted.journaling"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/camerontec/util/collection/persisted/journaling/JournalingPersistentStoreBase.html" target="_top">Frames</a></li>
<li><a href="JournalingPersistentStoreBase.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</body>
</html>
